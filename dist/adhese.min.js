function Adhese(){return this.config={debug:!1},this.request={},this.requestExtra=[],this.ads=[],(this.that=this).helper=new this.Helper,this.detection=new this.Detection,this}Adhese.prototype.Ad=function(e,t,i){return this.format=i&&i.format?i.format:t,this.options=e.helper.merge({write:!1},i),this.uid=t,this.safeframe=!(!i||!i.safeframe)&&i.safeframe,null!=this.options.position&&(this.uid=this.options.position+this.format),this},Adhese.prototype.init=function(e){if(this.config.debug=e.debug,this.helper.log("Adhese: initializing..."),this.config.jquery="undefined"!=typeof jQuery,e.account){this.config.account=e.account;var t="http:";"file:"!=window.location.protocol&&(t=window.location.protocol),!e.prefixVersion||e.prefixVersion&&1==e.prefixVersion?(this.config.host=t+"//ads-"+e.account+".adhese.com/",this.config.poolHost=t+"//pool-"+e.account+".adhese.com/",this.config.clickHost=t+"//click-"+e.account+".adhese.com/"):e.prefixVersion&&2==e.prefixVersion&&(this.config.host=t+"//ads-"+e.account+".adhese.com/",this.config.poolHost=t+"//pool-"+e.account+".adhese.com/",this.config.clickHost=t+"//ads-"+e.account+".adhese.com/"),this.config.previewHost="https://"+e.account+"-preview.adhese.org/",this.config.hostname=void 0}else if(e.host){this.config.host=e.host;var i=document.createElement("a");i.href=this.config.host,this.config.hostname=i.hostname}for(var r in e.previewHost&&(this.config.previewHost=e.previewHost),e.location&&"function"==typeof e.location?(this.config.location=e.location(),this.helper.log('options.location=="function"')):e.location&&"string"==typeof e.location?(this.config.location=e.location,this.helper.log('options.location=="string"')):this.config.location="testlocation",void 0===e.safeframe||0==e.safeframe?this.config.safeframe=!1:(this.config.safeframe=e.safeframe,this.initSafeFrame(e.safeframeContainerID)),this.config.logSafeframeMessages=e.safeframeMsg||this.logSafeframeMessages,this.registerRequestParameter("rn",Math.round(1e4*Math.random())),"function"==typeof Fingerprint&&this.registerRequestParameter("fp",new Fingerprint({canvas:!0}).get()),this.registerRequestParameter("pr",window.devicePixelRatio||1),void 0!==e.referrer&&1!=e.referrer||this.registerRequestParameter("re",this.helper.base64.urlencode(document.referrer.substr(0,200))),void 0!==e.url&&1!=e.url||this.registerRequestParameter("ur",this.helper.base64.urlencode(window.location.href)),this.userAgent=this.helper.getUserAgent(),this.userAgent)this.registerRequestParameter("br",this.userAgent[r]);"function"==typeof this.Detection&&(this.registerRequestParameter("dt",this.detection.device()),this.registerRequestParameter("br",this.detection.device())),this.config.previewExclusive=!1,e.previewExclusive&&(this.config.previewExclusive=e.previewExclusive),this.checkPreview(),this.checkAdheseInfo(),this.checkVisible&&(addEventListener("load",this.checkVisible.bind(this),!1),addEventListener("scroll",this.checkVisible.bind(this),!1)),this.helper.log("Adhese: initialized with config:",JSON.stringify(this.config))},Adhese.prototype.initSafeFrame=function(e){this.safeframe||(this.safeframe=e?new this.SafeFrame(this.config.poolHost,e,this.config.logSafeframeMessages):new this.SafeFrame(this.config.poolHost,this.config.logSafeframeMessages))},Adhese.prototype.registerRequestParameter=function(e,t){var i=this.request[e];(i=i||new Array).push(t),this.request[e]=i},Adhese.prototype.removeRequestParameter=function(e,t){var i=this.request[e];if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}},Adhese.prototype.addRequestString=function(e){this.requestExtra.push(e)},Adhese.prototype.tag=function(e,t){var i=this;this.helper.log(e,JSON.stringify(t)),t&&t.safeframe&&(t.safeframeContainerID?this.initSafeFrame(t.safeframeContainerID):this.initSafeFrame());var r=new this.Ad(this,e,t);if(this.previewActive){var n=this.previewFormats;for(var o in n)if(o==e){var s=n[e],a=new this.Ad(this,e,t);a.adType=e,a.ext="js";var c="";a.options.write||(c="json/"),a.swfSrc=i.config.previewHost+"/creatives/preview/"+c+"tag.do?id="+s.creative+"&slotId="+s.slot,a.width=s.width,a.height=s.height,r=a,"complete"===document.readyState?this.showPreviewSign():addEventListener("load",i.showPreviewSign.bind(i))}}return r.options.slotName=this.getSlotName(r),this.ads.push([e,r]),r.options.write&&(0==this.config.previewExclusive||1==this.config.previewExclusive&&r.swfSrc)&&this.write(r),r},Adhese.prototype.write=function(e){if(this.config.safeframe||e.safeframe){var t="";t=this.previewActive&&e.swfSrc?e.swfSrc:this.getRequestUri(e,{type:"json"}),this.helper.log("Adhese.write: request uri: "+t+", safeframe enabled");var i=this.safeframe.containerID;AdheseAjax.request({url:t,method:"get",json:!0}).done(function(e){adhese.safeframe.addPositions(e);for(var t=e.length-1;0<=t;t--)adhese.safeframe.render(e[t][i])})}else{t="";t=this.previewActive&&e.swfSrc?e.swfSrc:this.getRequestUri(e,{type:"js"}),this.helper.log("Adhese.write: request uri: "+t),document.write('<script type="text/javascript" src="'+t+'"><\/script>')}},Adhese.prototype.track=function(e){this.helper.addTrackingPixel(e)},Adhese.prototype.trackByUrl=function(e){this.helper.addTrackingPixel(e)},Adhese.prototype.getMultipleRequestUri=function(e,t){var i=this.config.host;switch((t=t||{type:"js"}).type){case"json":i+="json/";break;case"jsonp":t.callbackFunctionName||(t.callbackFunctionName="callback"),i+="jsonp/"+t.callbackFunctionName+"/";break;default:i+="ad/"}for(var r=e.length-1;0<=r;r--){var n=e[r];(!n.swfSrc||n.swfSrc&&-1==n.swfSrc.indexOf("preview"))&&(i+="sl"+this.getSlotName(n)+"/")}for(var o in this.request){for(var s=o,a=0;a<this.request[o].length;a++)s+=this.request[o][a]+(this.request[o].length-1>a?";":"");i+=s+"/"}for(r=0,o=this.requestExtra;r<o.length;r++)o[r]&&(i+=o[r]+"/");return i+="?t="+(new Date).getTime()},Adhese.prototype.getSlotName=function(e){return e.options.position&&e.options.location?u=e.options.location+e.options.position:e.options.position?u=this.config.location+e.options.position:e.options.location?u=e.options.location:u=this.config.location,u+"-"+e.format},Adhese.prototype.getRequestUri=function(e,t){if(t.preview&&1==t.preview)return e.swfSrc;var i=[e];return this.getMultipleRequestUri(i,t)},Adhese.prototype.syncUser=function(e,t){"rubicon"==e?this.rubiconUserSync(t):"improvedigital"==e?this.improvedigitalUserSync(t):"pubmatic"==e?this.pubmaticUserSync(t):"spotx"==e?this.spotxUserSync(t):"appnexus"==e?this.appnexusUserSync(t):"smartadserver"==e?this.smartadserverUserSync(t):"multi"==e&&this.multiUserSync(t)},Adhese.prototype.getSfPreview=function(e){for(var i=this,t=e.length-1;0<=t;t--){var r=e[t];r.swfSrc&&-1<r.swfSrc.indexOf("tag.do")&&AdheseAjax.request({url:i.getRequestUri(r,{type:"json",preview:!0}),method:"get",json:!0}).done(function(e){i.safeframe.addPositions(e);for(var t=e.length-1;0<=t;t--)i.safeframe.render(e[t].adType)})}},Adhese.prototype.getSfAds=function(e){var i=this;AdheseAjax.request({url:i.getMultipleRequestUri(e,{type:"json"}),method:"get",json:!0}).done(function(e){i.safeframe.addPositions(e);for(var t=e.length-1;0<=t;t--)i.safeframe.render(e[t].adType)}),i.getSfPreview(e)},Adhese.prototype.registerResponse=function(e,t){adhese.responses||(adhese.responses=new Object),adhese.responses[e]=t},Adhese.prototype.logSafeframeMessages=function(e,t,i){this.helper.log(e,t,i)},Adhese.prototype.Helper=function(){this.oslist=[{string:navigator.userAgent,subString:"Windows Phone",identity:"WindowsPhone"},{string:navigator.userAgent,subString:"Windows NT 10.0",identity:"Windows10"},{string:navigator.userAgent,subString:"Windows NT 6.3",identity:"Windows8.1"},{string:navigator.userAgent,subString:"Windows NT 6.2",identity:"Windows8"},{string:navigator.userAgent,subString:"Windows NT 6.1",identity:"Windows7"},{string:navigator.userAgent,subString:"Windows NT 6.0",identity:"WindowsVista"},{string:navigator.userAgent,subString:"Windows NT 5.1",identity:"WindowsXP"},{string:navigator.userAgent,subString:"Windows 98",identity:"Windows98"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.platform,subString:"Mac",identity:"OSX"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],this.browserlist=[{string:navigator.userAgent,subString:"Trident/7",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"}]},Adhese.prototype.Helper.prototype.log=function(){this.logObjs=this.logObjs||{},this.logs=this.logs||[];for(var e="",t=(new Date).getTime(),i=0,r=arguments;i<r.length;i++)r[i]&&(e+=r[i]+" ");this.logObjs[t]=logObj={msg:e},this.logs.push([t,arguments]),window.location.search.match("debug")&&console.log(t,arguments)},Adhese.prototype.Helper.prototype.debug=function(){for(var e in this.logs){var t=this.logs[e];console.log(t[0],t[1])}},Adhese.prototype.Helper.prototype.debugTable=function(){"function"==typeof console.table&&console.table(this.logObjs)},Adhese.prototype.Helper.prototype.getMetaTagContent=function(e,t){},Adhese.prototype.Helper.prototype.getQueryStringParameter=function(e){var t=RegExp("[?&]"+key+"=([^&]*)").exec(window.location.search);return t?decodeURIComponent(t[1].replace(/\+/g," ")):default_},Adhese.prototype.Helper.prototype.addTrackingPixel=function(e){var t=document.createElement("img");t.src=e,t.style.height="1px",t.style.width="1px",t.style.margin="-1px",t.style.border="0",t.style.position="absolute",t.style.top="0",document.body.appendChild(t)},Adhese.prototype.Helper.prototype.getScreenProperties=function(){var e=new Object;return e.width=window.innerWidth?window.innerWidth:document.body.offsetWidth,e.height=window.innerHeight?window.innerHeight:document.body.offsetHeight,e},Adhese.prototype.Helper.prototype.addEvent=function(e,t,i,r){void 0===r&&(r=window),r.addEventListener?r.addEventListener(e,function(){t(i)},!1):r.attachEvent&&r.attachEvent("on"+e,function(){t(i)})},Adhese.prototype.Helper.prototype.removeEvent=function(e,t,i){window.removeEventListener?window.removeEventListener(e,t,!1):window.detachEvent&&window.detachEvent("on"+e,t)},Adhese.prototype.Helper.prototype.getAbsoluteOffset=function(e){var t={top:0,left:0};if(void 0!==e)for(t.left=0,t.top=0;e;e=e.offsetParent)t.left+=e.offsetLeft,t.top+=e.offsetTop;return t},Adhese.prototype.Helper.prototype.getUserAgent=function(){var e={};return e.browser=this.searchString(this.browserlist)||"unknownBrowser",e.browserVersion=e.browser+this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"unknownVersion",e.os=this.searchString(this.oslist)||"unknownOS",e},Adhese.prototype.Helper.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var i=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!=i.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},Adhese.prototype.Helper.prototype.searchVersion=function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},Adhese.prototype.Helper.prototype.merge=function(e,t){var i={};for(var r in e)i[r]=e[r];for(var r in t)i[r]=t[r];return i},Adhese.prototype.Helper.prototype.stringToHex=function(t,i){try{i=unescape(encodeURIComponent(t)).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join("")}catch(e){i=t,console.log("invalid text input: ",e,t)}return i},Adhese.prototype.Helper.prototype.hexToString=function(t,i){try{i=decodeURIComponent(t.replace(/(..)/g,"%$1"))}catch(e){i=t,console.log("invalid hex input: ",e,t)}return i},Adhese.prototype.Helper.prototype.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){if("function"==typeof btoab)return btoa(e);var t,i,r,n,o,s,a,c="",d=0;for(e=this._utf8_encode(e);d<e.length;)n=(t=e.charCodeAt(d++))>>2,o=(3&t)<<4|(i=e.charCodeAt(d++))>>4,s=(15&i)<<2|(r=e.charCodeAt(d++))>>6,a=63&r,isNaN(i)?s=a=64:isNaN(r)&&(a=64),c=c+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return c},urlencode:function(e){if("function"==typeof btoa)return btoa(e).replace(/\+/g,"-").replace(/\//g,"_");var t,i,r,n,o,s,a,c="",d=0;for(e=this._utf8_encode(e);d<e.length;)n=(t=e.charCodeAt(d++))>>2,o=(3&t)<<4|(i=e.charCodeAt(d++))>>4,s=(15&i)<<2|(r=e.charCodeAt(d++))>>6,a=63&r,isNaN(i)?s=a=64:isNaN(r)&&(a=64),c=c+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return c.replace(/\+/g,"-").replace(/\//g,"_")},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t+=String.fromCharCode(r):(127<r&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t}},Adhese.prototype.Helper.prototype.createCookie=function(e,t,i){var r="";if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3-60*n.getTimezoneOffset()*1e3),r="; expires="+n.toUTCString()}document.cookie=e+"="+t+r+"; path=/; SameSite=None; Secure"},Adhese.prototype.Helper.prototype.readCookie=function(e){for(var t=e+"=",i=document.cookie.split(";"),r=0;r<i.length;r++){for(var n=i[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null},Adhese.prototype.Helper.prototype.eraseCookie=function(e){this.createCookie(e,"",-1)},Adhese.prototype.Helper.prototype.eatsCookie=function(){return this.createCookie("adheseTestCookie","",1),null!=this.readCookie("adheseTestCookie")&&(this.eraseCookie("adheseTestCookie"),!0)},Adhese.prototype.Helper.prototype.getMetaContent=function(e){for(var t=document.getElementsByTagName("META"),i=[],r=t.length-1;0<=r;r--){var n=t[r];n&&(n.name===e||n.getAttribute("property")===e)&&n.content&&i.push(n.content)}return i},Adhese.prototype.Helper.prototype.adhElementInViewport=function(e){if("string"==typeof e&&(e=document.getElementById(e)),e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}return!1},Adhese.prototype.checkPreview=function(){if(this.previewFormats={},!this.config.previewHost)return!1;if(-1!=window.location.search.indexOf("adhesePreview")){this.helper.log("checking for preview");var e=window.location.search.substring(1),t=e.match(/adhesePreviewCreativeId/g).length,r=e.split("&"),n="",o="",s="",a="",c=0,d=0,h=[];-1!=e.indexOf("adhesePreviewExclusive=true")&&(this.config.previewExclusive=!0),-1!=e.indexOf("adhesePreviewExclusive=false")&&(this.config.previewExclusive=!1);for(var l=0;l<r.length;l++)if("adhesePreviewCreativeId"==r[l].split("=")[0]&&(n=unescape(r[l].split("=")[1])),"adhesePreviewSlotId"==r[l].split("=")[0]&&(o=r[l].split("=")[1]),"adhesePreviewCreativeTemplate"==r[l].split("=")[0]&&(s=r[l].split("=")[1],h.push(s)),"adhesePreviewTemplateFile"==r[l].split("=")[0]&&(a=r[l].split("=")[1]),"adhesePreviewWidth"==r[l].split("=")[0]&&(c=r[l].split("=")[1]),"adhesePreviewHeight"==r[l].split("=")[0]&&(d=r[l].split("=")[1]),"adhesePreviewCreativeKey"==r[l].split("=")[0]&&1<t){if(""!=o&&""!=h[0])for(i in h){s=h[i];this.previewFormats[s]={slot:o,creative:n,templateFile:a,width:c,height:d}}h=[]}if(1==t)for(var p=0;p<h.length;p++)this.previewFormats[h[p]]={slot:o,creative:n,templateFile:a,width:c,height:d};n=[];for(k in this.previewFormats)n.push(k+","+this.previewFormats[k].creative+","+this.previewFormats[k].slot+","+this.previewFormats[k].template+","+this.previewFormats[k].width+","+this.previewFormats[k].height);this.helper.createCookie("adhese_preview",n.join("|"),0),this.previewActive=!0}else if(this.helper.readCookie("adhese_preview")){var u=this.helper.readCookie("adhese_preview").split("|");for(l=0;l<u.length;l++){n=u[l].split(",");this.previewFormats[n[0]]={creative:n[1],slot:n[2],template:n[3],width:n[4],height:n[5]}}this.previewActive=!0}},Adhese.prototype.showPreviewSign=function(){if(!document.getElementById("adhPreviewMessage")){var e=document.createElement("DIV");e.innerHTML='<div id="adhPreviewMessage" style="cursor:pointer;font-family:Helvetica,Verdana; font-size:12px; text-align:center; background-color: #000000; color: #FFFFFF; position:fixed; top:10px;left:10px;padding:10px;z-index:9999;width: 100px;"><b>Adhese preview active.</br> Click to disable</div>',document.body.appendChild(e),this.helper.addEvent("click",this.closePreviewSign.bind(this),e,e)}},Adhese.prototype.closePreviewSign=function(){this.helper.eraseCookie("adhese_preview"),-1!=location.search.indexOf("adhesePreviewCreativeId")?location.href=location.href.split("?")[0]:location.reload()},Adhese.prototype.checkAdheseInfo=function(){if(-1==window.location.search.indexOf("adheseInfo=true"))return!1;addEventListener("load",this.showInfoSign.bind(this))},Adhese.prototype.showInfoSign=function(){var e=document.createElement("DIV"),t='<div id="adhInfoMessage" style="cursor:pointer;font-family:Helvetica,Verdana; font-size:12px; text-align:center; background-color: lightgrey; color: black; position:fixed; top:10px;right:10px;padding:10px;z-index:9999;width:auto; max-width:300px; opacity:0.9; border:2px #9e9e9e solid">';for(x in t+="<b>Adhese Request Info</b></br>- Click to disable -</br>",t+="</br><b>Location code:</b></br>",t+=this.config.location+"</br>",t+="</br><b>Format code(s):</b></br>",adhese.ads)t+=adhese.ads[x][0]+"</br>";for(x in t+="</br><b>Targeting:</b></br>",adhese.request)"ur"!=x&&"rn"!=x&&"re"!=x&&"pr"!=x&&"fp"!=x&&(t+="<b>"+x+": </b>"+adhese.request[x]+"</br>");t+="</div>",e.innerHTML=t,document.body.appendChild(e),this.helper.addEvent("click",this.closeInfoSign.bind(this),e,e)},Adhese.prototype.closeInfoSign=function(){document.getElementById("adhInfoMessage").style.display="none"};var AdheseAjax={request:function(e){"string"==typeof e&&(e={url:e}),e.url=e.url||"",e.method=e.method||"get",e.data=e.data||{},void 0===e.encodeData&&(e.encodeData=!0);function r(e,t){var i,r=[];for(var n in e)r.push(n+"="+encodeURIComponent(e[n]));return""!=(i=r.join("&"))?t?t.indexOf("?")<0?"?"+i:"&"+i:i:""}return{host:{},process:function(t){var i=this;if(this.xhr=null,document.all&&!window.atob)try{this.xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.xhr=!1}}else try{this.xhr=new XMLHttpRequest}catch(e){this.xhr=!1}return this.xhr&&("withCredentials"in this.xhr&&(this.xhr.withCredentials=!0),this.xhr.onreadystatechange=function(){if(4==i.xhr.readyState&&200==i.xhr.status){var e=i.xhr.responseText;if(!0===t.json&&"undefined"!=typeof JSON)if(e)try{e=JSON.parse(e),i.doneCallback&&i.doneCallback.apply(i.host,[e,i.xhr])}catch(e){console.error("Ad response parsing error: \n",e),i.errorCallback&&i.errorCallback.apply(i.host,["Adhese Ajax: "+e])}else i.errorCallback&&i.errorCallback.apply(i.host,["Adhese Ajax: Response is empty string"])}else 4==i.xhr.readyState&&i.failCallback&&i.failCallback.apply(i.host,[i.xhr]);i.alwaysCallback&&i.alwaysCallback.apply(i.host,[i.xhr])}),"get"==t.method?this.xhr.open("GET",t.url+r(t.data,t.url),!0):(this.xhr.open(t.method,t.url,!0),this.setHeaders({"X-Requested-With":"XMLHttpRequest","Content-type":"application/x-www-form-urlencoded"})),t.headers&&"object"==typeof t.headers&&this.setHeaders(t.headers),setTimeout(function(){var e;"get"==t.method?i.xhr.send():(e=t.encodeData?r(t.data):t.data,i.xhr.send(e))},20),this},done:function(e){return this.doneCallback=e,this},fail:function(e){return this.failCallback=e,this},always:function(e){return this.alwaysCallback=e,this},error:function(e){return this.errorCallback=e,this},setHeaders:function(e){for(var t in e)this.xhr&&this.xhr.setRequestHeader(t,e[t])}}.process(e)}};function AdheseVastWrapper(e){this.debug=null!=e&&e}function AdheseVastAd(e,t,i,r,n,o,s){this.id=e,this.mediafile=t,this.duration=i,this.impression=r,this.durationInSeconds=n,this.trackers=o,this.click=s}function AdheseVastMediaFile(e,t){this.src=e,this.type=t}function AdheseVastEventListener(e,t){this.event=e,this.listener=t}function AdheseVastHelper(){}if(Adhese.prototype.Detection=function(){return this},Adhese.prototype.Detection.prototype.device=function(e){return(e=e||window.navigator.userAgent).match(/webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini|Mobile Safari|SymbianOS/i)&&!e.match(/Android/i)?this.deviceType="phone":e.match(/Mobile/i)&&e.match(/Android/i)?this.deviceType="phone":e.match(/iPad|Android|Tablet|Silk/i)?this.deviceType="tablet":this.deviceType="desktop",this.deviceType},function(e,t,i){"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Fingerprint=i()}(0,this,function(){"use strict";function e(e){var s,t;s=Array.prototype.forEach,t=Array.prototype.map,this.each=function(e,t,i){if(null!==e)if(s&&e.forEach===s)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,n=e.length;r<n;r++)if(t.call(i,e[r],r,e)==={})return}else for(var o in e)if(e.hasOwnProperty(o)&&t.call(i,e[o],o,e)==={})return},this.map=function(e,r,n){var o=[];return null==e?o:t&&e.map===t?e.map(r,n):(this.each(e,function(e,t,i){o[o.length]=r.call(n,e,t,i)}),o)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)}return e.prototype={get:function(){var e=[];e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),!this.screen_resolution||void 0!==this.getScreenResolution()&&e.push(this.getScreenResolution().join("x"));return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!window.indexedDB),document.body?e.push(typeof document.body.addBehavior):e.push("undefined"),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var i,r,n,o,s,a,c,d;for(i=3&e.length,r=e.length-i,n=t,s=3432918353,a=461845907,d=0;d<r;)c=255&e.charCodeAt(d)|(255&e.charCodeAt(++d))<<8|(255&e.charCodeAt(++d))<<16|(255&e.charCodeAt(++d))<<24,++d,n=27492+(65535&(o=5*(65535&(n=(n^=c=(65535&(c=(c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(c=0,i){case 3:c^=(255&e.charCodeAt(d+2))<<16;case 2:c^=(255&e.charCodeAt(d+1))<<8;case 1:n^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(d)))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295}return n^=e.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(e){try{return new ActiveXObject(e),e}catch(e){return null}}).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),i="http://valve.github.io";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(i,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(i,4,17),e.toDataURL()}},e}),Adhese.prototype.Events=function(){},Adhese.prototype.Events.prototype.add=function(e,t,i){i=i||window,window.addEventListener?i.addEventListener(e,t,!1):window.attachEvent&&i.attachEvent("on"+e,t)},Adhese.prototype.Events.prototype.remove=function(e,t,i){i=i||window,window.removeEventListener?i.removeEventListener(e,t,!1):window.attachEvent&&i.detachEvent("on"+e,t)},Adhese.prototype.appnexusUserSync=function(){this.genericUserSync({url:"https://ib.adnxs.com/getuid?https%3A%2F%2Fuser-sync.adhese.com%2Fhandlers%2Fappnexus%2Fuser_sync%3Fu%3D%24UID",syncName:"appnexus",iframe:!0,onload:option.onload})},Adhese.prototype.bidswitchUserSync=function(e){e&&e.bidswitch_account_name&&this.genericUserSync({url:"http://x.bidswitch.net/sync?ssp="+e.bidswitch_account_name,syncName:"bidswitch",iframe:!1,onload:e.onload})},Adhese.prototype.criteoUserSync=function(e){if(e&&e.nid){var t=e.nid,i="cto_rtt";crtg_content=function(e){var t,i,r,n=document.cookie.split(";");for(t=0;t<n.length;t++)if(i=n[t].substr(0,n[t].indexOf("=")),r=n[t].substr(n[t].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==e)return unescape(r);return""}(i);var r=Math.floor(99999999999*Math.random()),n="https://rtax.criteo.com/delivery/rta/rta.js?netId="+escape(t);n+="&cookieName="+escape(i),n+="&rnd="+r,n+="&varName=crtg_content";var o=document.createElement("script");return o.type="text/javascript",o.src=n,o.async=!0,0<document.getElementsByTagName("head").length?document.getElementsByTagName("head")[0].appendChild(o):0<document.getElementsByTagName("body").length&&document.getElementsByTagName("body")[0].appendChild(o),crtg_content}},Adhese.prototype.genericUserSync=function(e){if(e&&e.url&&e.syncName){var t=e.syncName+"_uid_last_sync";if(void 0===e.onload&&(e.onload=!0),-1==document.cookie.indexOf(t)||!e.syncRefreshPeriod){if(e.onload?e.iframe?this.helper.addEvent("load",this.appendSyncIframe,e):this.helper.addEvent("load",this.appendSyncPixel,e):e.iframe?this.appendSyncIframe(e):this.appendSyncPixel(e),e.syncRefreshPeriod){var i=new Date;i.setDate(i.getDate()+1),i.setHours(0),i.setMinutes(0),i.setSeconds(0);var r=i.getTime()-(new Date).getTime();this.helper.createCookie(t,r,r/e.syncRefreshPeriod)}this.config&&this.config.hostname&&((new Image).src="https://user-sync.adhese.com/handlers/"+e.syncName+"/user_sync_discovery?domain="+this.config.hostname)}}},Adhese.prototype.appendSyncIframe=function(e){var t=document.createElement("IFRAME");t.setAttribute("id","sync_iframe_"+e.syncName),t.setAttribute("height","0"),t.setAttribute("width","0"),t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.setAttribute("frameborder","0"),t.setAttribute("scrolling","no"),t.setAttribute("style","border: 0px; display: none;"),t.setAttribute("src",e.url),document.body.appendChild(t)},Adhese.prototype.appendSyncPixel=function(e){var t=document.createElement("IMG");t.setAttribute("id","sync_pixel_"+e.syncName),t.setAttribute("height","0"),t.setAttribute("width","0"),t.setAttribute("style","border: 0px; display: none;"),t.setAttribute("src",e.url),document.body.appendChild(t)},Adhese.prototype.improvedigitalUserSync=function(e){var t=1,i="user-sync.adhese.com";e&&e.partner_id&&""!=e.partner_id&&(t=e.partner_id),e&&e.domain&&""!=e.domain&&(i=e.domain),this.genericUserSync({url:"https://ad.360yield.com/server_match?partner_id="+t+"&r=https%3A%2F%2F"+i+"%2Fhandlers%2Fimprovedigital%2Fuser_sync%3Fu%3D%7BPUB_USER_ID%7D",syncName:"improvedigital",iframe:!0,onload:e.onload})},Adhese.prototype.multiUserSync=function(e){e&&e.account&&this.genericUserSync({url:"https://user-sync.adhese.com/iframe/user_sync.html?account="+e.account,syncName:"multi",iframe:!0,onload:e.onload})},Adhese.prototype.pubmaticUserSync=function(e){e&&e.pubmatic_publisher_id&&this.genericUserSync({url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?p="+e.pubmatic_publisher_id+"&predirect=https%3a%2f%2fuser-sync.adhese.com%2fhandlers%2fpubmatic%2fuser_sync%3fu%3d",syncName:"pubmatic",iframe:!0,onload:e.onload})},Adhese.prototype.rubiconUserSync=function(e){e&&e.rp_account&&""!=e.rp_account&&this.genericUserSync({url:"https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.html?p="+e.rp_account+"&endpoint=eu",syncName:"rubicon",iframe:!0,onload:e.onload})},Adhese.prototype.smartadserverUserSync=function(){this.genericUserSync({url:"https://ssbsync.smartadserver.com/api/sync?callerId=1",syncName:"smartadserver",iframe:!0,onload:option.onload})},Adhese.prototype.spotxUserSync=function(e){var t="user-sync.adhese.com";e&&e.domain&&""!=e.domain&&(t=e.domain),e&&e.spotx_advertiser_id&&this.genericUserSync({url:"https://sync.search.spotxchange.com/partner?adv_id="+e.spotx_advertiser_id+"&redir=https%3A%2F%2F"+t+"%2Fhandlers%2Fspotx%2Fuser_sync%3Fu%3D%24SPOTX_USER_ID",syncName:"spotx",iframe:!0,onload:e.onload})},AdheseVastWrapper.prototype.init=function(){this.eventListeners=new Array,this.trackedImpressions=new Array,this.schedule={},this.helper=new AdheseVastHelper},AdheseVastWrapper.prototype.requestAds=function(e,t,i){var r=e+"/jsonp/a.parseVastJson";for(var n in i)r+="/sl"+t+"-"+i[n];r+="/?t="+(new Date).getTime();var o=document.createElement("script");o.type="text/javascript",o.src=r,document.getElementsByTagName("head")[0].appendChild(o)},AdheseVastWrapper.prototype.parseInLine=function(e){for(var t=new Array,i=e.getElementsByTagName("MediaFile"),r=0;r<i.length;r++)t.push(new AdheseVastMediaFile(i[r].firstChild.nodeValue,i[r].attributes.getNamedItem("type").value));var n=new Array,o=e.getElementsByTagName("Impression");for(r=0;r<o.length;r++)n.push(o[r].firstChild.nodeValue);var s=new Object,a=e.getElementsByTagName("Tracking");for(r=0;r<a.length;r++)s[a[r].attributes.getNamedItem("event").nodeValue]||(s[a[r].attributes.getNamedItem("event").value]=new Array),s[a[r].attributes.getNamedItem("event").nodeValue].push(a[r].firstChild.nodeValue);var c=e.getElementsByTagName("ClickTracking");for(r=0;r<a.length;r++)s.click||(s.click=new Array),c[r]&&c[r].firstChild.nodeValue&&""!=c[r].firstChild.nodeValue&&s.click.push(c[r].firstChild.nodeValue);var d="",h=e.getElementsByTagName("ClickThrough");for(r=0;r<h.length;r++)d=h[r].firstChild.nodeValue;var l,p="";p=e.attributes.getNamedItem("id")&&isNaN(e.attributes.getNamedItem("id").nodeValue)?e.attributes.getNamedItem("id").nodeValue:e.attributes.getNamedItem("code")?e.attributes.getNamedItem("code").nodeValue:"preroll",this.debug&&console.log(p),l=null!==e.getElementsByTagName("Duration")[0].firstChild?e.getElementsByTagName("Duration")[0].firstChild.nodeValue:0,this.schedule[p]=new AdheseVastAd(p,t,l,n,this.helper.getDurationInSeconds(l),s,d),this.debug&&console.log(this.schedule)},AdheseVastWrapper.prototype.parseVastJson=function(e){var t=this.parseXML(e[0].tag).getElementsByTagName("Ad"),n=this;if(0!==t.length)for(var i=0;i<t.length;i++)if(0<t[i].getElementsByTagName("InLine").length)this.parseInLine(t[i]),this.fireAdsLoaded();else{var o="",r=t[i];o=r.attributes.getNamedItem("id")&&isNaN(r.attributes.getNamedItem("id").nodeValue)?r.attributes.getNamedItem("id").nodeValue:r.attributes.getNamedItem("code")?r.attributes.getNamedItem("code").nodeValue:"preroll";var s=r.getElementsByTagName("Impression");AdheseAjax.request({url:t[i].getElementsByTagName("VASTAdTagURI")[0].firstChild.nodeValue,method:"get",json:!1}).done(function(e){for(var t=n.parseXML(e).getElementsByTagName("Ad"),i=0;i<t.length;i++){t[i].setAttribute("code",o);for(var r=0;r<s.length;r++)t[i].getElementsByTagName("InLine")[0].insertBefore(s[r],t[i].getElementsByTagName("Impression")[0]);0<t[i].getElementsByTagName("InLine").length?n.parseInLine(t[i]):n.debug&&console.log("Too many redirects")}n.fireAdsLoaded()})}else this.fireAdsLoaded()},AdheseVastWrapper.prototype.parseXML=function(e){if(this.debug&&console.log(typeof window.DOMParser),void 0!==window.DOMParser)return(new window.DOMParser).parseFromString(e,"text/xml");if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}},AdheseVastWrapper.prototype.addEventListener=function(e,t){this.eventListeners.push(new AdheseVastEventListener(e,t))},AdheseVastWrapper.prototype.fireAdsLoaded=function(){for(var e=0;e<this.eventListeners.length;e++)"ADS_LOADED"==this.eventListeners[e].getEvent()&&(this.debug&&console.log("ADS_LOADED sent to listener"),this.eventListeners[e].getListener().apply())},AdheseVastWrapper.prototype.getSchedule=function(){var e=new Array;for(var t in this.schedule)e.push(t);return e},AdheseVastWrapper.prototype.hasAd=function(e){return null!=this.schedule[e]},AdheseVastWrapper.prototype.getImpression=function(e){return this.schedule[e].getImpression()},AdheseVastWrapper.prototype.getClick=function(e){return this.schedule[e].getClick()},AdheseVastWrapper.prototype.getTrackers=function(e){return this.schedule[e].getTrackers()},AdheseVastWrapper.prototype.getMediafile=function(e,t){for(var i=this.schedule[e].getMediafile(),r=0;r<i.length;r++)if(i[r].getType()==t)return i[r].getSrc()},AdheseVastWrapper.prototype.getDuration=function(e){return this.schedule[e].getDuration()},AdheseVastWrapper.prototype.getDurationInSeconds=function(e){return this.schedule[e].getDurationInSeconds()},AdheseVastWrapper.prototype.track=function(e){if(e)for(var t=0;t<e.length;t++){if(!this.trackedImpressions[e[t]])this.trackedImpressions[e[t]]=1,document.createElement("img").src=e[t]+(-1==e[t].indexOf("?")?"?adhche=":"&adhche=")+(new Date).getTime()}},AdheseVastWrapper.prototype.timeupdate=function(e,t){if(this.debug&&console.log(e+" timeupdate @"+t+" sec."),0==t)this.debug&&console.log("Tracking impression for "+e),this.track(this.getImpression(e));else{var i=t/this.schedule[e].getDurationInSeconds();0==i.toFixed(2)?(this.debug&&console.log("Tracking start for "+e),this.track(this.getTrackers(e).start)):.25==i.toFixed(2)?(this.debug&&console.log("Tracking first quartile for "+e+" - "+this.getTrackers(e).firstQuartile),this.track(this.getTrackers(e).firstQuartile)):.5==i.toFixed(2)?(this.debug&&console.log("Tracking mid point for "+e),this.track(this.getTrackers(e).midpoint)):.75==i.toFixed(2)&&(this.debug&&console.log("Tracking third quartile for "+e),this.track(this.getTrackers(e).thirdQuartile))}},AdheseVastWrapper.prototype.clicked=function(e,t){this.debug&&console.log("tracker clicked for "+e+" @"+t),this.debug&&console.log("open new window with VideoClicks>ClickThrough"),this.helper.openNewWindow(this.getClick(e)),this.track(this.getTrackers(e).click)},AdheseVastWrapper.prototype.ended=function(e,t){this.debug&&console.log(e+" ended @"+t),this.debug&&console.log("tracker complete for "+e),this.track(this.getTrackers(e).complete)},AdheseVastAd.prototype.getId=function(){return this.id},AdheseVastAd.prototype.getMediafile=function(){return this.mediafile},AdheseVastAd.prototype.getDuration=function(){return this.duration},AdheseVastAd.prototype.getDurationInSeconds=function(){return this.durationInSeconds},AdheseVastAd.prototype.getImpression=function(){return this.impression},AdheseVastAd.prototype.getTrackers=function(){return this.trackers},AdheseVastAd.prototype.getClick=function(){return this.click},AdheseVastMediaFile.prototype.getSrc=function(){return this.src},AdheseVastMediaFile.prototype.getType=function(){return this.type},AdheseVastEventListener.prototype.getEvent=function(){return this.event},AdheseVastEventListener.prototype.getListener=function(){return this.listener},AdheseVastHelper.prototype.getDurationInSeconds=function(e){if(e){var t=e.split(":");return 3==t.length?parseInt(3600*t[0])+parseInt(60*t[1])+parseInt(t[2]):2==t.length?parseInt(60*t[0])+parseInt(t[1]):1==t.length?parseInt(t[0]):0}return 0},AdheseVastHelper.prototype.openNewWindow=function(e){window&&window.open(e,"_blank").focus()},Adhese.prototype.SafeFrame=function(e,t,i){return this.poolHost=e,this.containerID="adType",t&&(this.containerID=t),this.adhesePositions=new Array,this.ads=[],this.logMessages=i||"",this.init()},Adhese.prototype.SafeFrame.prototype.init=function(){if(this.adhesePositionConfig=new Object,this.ads&&0<this.ads.length)for(index in this.ads){var e=this.ads[index];this.adhesePositionConfig[e[this.containerID]]={w:e.width,h:e.height,size:e.width+"x"+e.height,dest:e[this.containerID],tgt:"_blank"}}new $sf.host.Config({auto:!1,debug:!0,renderFile:this.poolHost+"sf/r.html",positions:this.adhesePositionConfig,onBeforePosMsg:this.logMessages});return this},Adhese.prototype.SafeFrame.prototype.addPositions=function(e){for(var t in e){var i=e[t];i.sfHtml=i.tag,"js"==i.ext&&(i.sfHtml=i.body);var r="_blank";i.sfHtml&&0<i.sfHtml.indexOf("TARGET='_self'")&&(r="_self");var n=new $sf.host.PosConfig({id:i[this.containerID],w:i.width,h:i.height,size:i.width+"x"+i.height,dest:i[this.containerID],tgt:r});this.adhesePositions.push(new $sf.host.Position({id:i[this.containerID],html:i.sfHtml,src:i.sfSrc,conf:n}))}},Adhese.prototype.SafeFrame.prototype.render=function(e){for(var t in this.adhesePositions)this.adhesePositions[t].id==e&&$sf.host.render(this.adhesePositions[t])},window.$sf)try{$sf.ver="1-1-0",$sf.specVersion="1.1"}catch(e){}else var $sf={ver:"1-1-0",specVersion:"1.1"};!function(h){var u,f,o,s,a,e,S="object",d="function",l="replace",k="length",i="document",t="prototype",n=h&&h.Number,r=h&&h.Math,p=h&&h[i],c=h&&h.navigator,g=c&&c.userAgent||"",m="toLowerCase",v="getAttribute",y="setAttribute",w="removeAttribute",b="getElementsByTagName",A="DOMContentLoaded",x=h&&h.String,C=x.fromCharCode(92),T=C+C,E=x.fromCharCode(34),_=C+E,I=x.fromCharCode(43),P="scr"+E+I+E+"ipt",N="about:blank",F="nodeType",D="iframe",H="CollectGarbage",M="addEventListener",O="",V=R,j="$sf.lib",R=!1,L=null,W={preventDefault:0,stopImmediatePropagation:0,stopPropagation:0,preventBubble:0},B=n&&n.MAX_VALUE,U=-1*B,q=h&&h.escape,X=h&&h.unescape,z=!(!window.ActiveXObject&&"ActiveXObject"in window)&&h&&"ActiveXObject"in h,$=0,G=R,J=0,Q=L,Y=0,K=L,Z=0,ee=0,te=0,ie={},re="",ne="",oe=L,se=L;function ae(e){var t=typeof e;return"string"==t?e:"number"!=t||e?t==S&&e&&e.join?e.join(""):!1===e?"false":!0===e?"true":e?x(e):"":"0"}function ce(t,e,i,r){if("number"!=typeof t)try{t=t?parseFloat(t):n.NaN}catch(e){t=n.NaN}return r==L&&(r=B),i==L&&(i=U),(isNaN(t)||t<i||r<t)&&e!=L?e:t}function de(t){try{t=t&&typeof t==d&&t.toString()&&new t.constructor?t:L}catch(e){t=L}return!!t}function he(e,t,i,r,n){var o,s,a;if(!t||!e)return e;for(s in t)a=typeof(o=t[s]),i&&!t.hasOwnProperty(s)||n&&s in e||r&&a==d||(a==S&&o&&(o=o.slice?he([],o):he({},o)),e[s]=o);return e}function le(){return(new Date).getTime()}function pe(){return r.round(100*r.random())}function ue(e){var t=ae(e);return t&&t[l](/^\s\s*/,"")[l](/\s\s*$/,"")}function fe(e,t,i,r){var n,o,s=i&&typeof i==S?i:h,a=0,c=L;if(e)if(e=ae(e),t=t&&typeof t==S?t:L,e.indexOf("."))for(n=e.split(".");o=n[a++];)o=ue(o),c=a==n[k]?s[o]&&t?s[o]=he(s[o],t,R,L,r):r&&o in s?s[o]:s[o]=s[o]||t||{}:r&&o in s?s[o]:s[o]=s[o]||{},s=s[o];else c=s[e]&&t?s[e]=he(s[e],t,R,L,r):s[e]=s[e]||t||{};return c}function ge(){return T}function me(){return _}function ve(){return"\\r"}function ye(){return"\\n"}function we(e,t,i){return ae(["<",t,P,i,">"])}function be(e,t,i,r,n){var o,s,a,c,d,h,l,p,u,f,g,m,v,y,w=this,b="indexOf",A="substring",x=R;if(!(w instanceof be))return new be(e,t,i,r,n);if(!arguments[k])return w;if(e&&typeof e==S)return he(new be("",t,i,r,n),e);if(e=ae(e),t=ae(t)||"&",i=ae(i)||"=",!e)return w;if("?"!=t&&"?"!=i&&"?"==e.charAt(0)&&(e=e[A](1)),o=e[b]("?"),s=e[b](i),-1!=o&&-1!=s&&s<o)c=q(e[A](s+1)),e=(d=e.substr(0,s+1))+c;else if(-1!=o)return new be(e=e[A](o+1),t,i,r);for(e.charAt(0)==t&&(e=e[A](1)),g=(l=e.split(t))[k],o=0;g--;)if(c=l[o++],x=f=R,c){if(2<(v=(p=c.split(i))[k])){if(u=X(p[0]),p.shift(),n)if(d=u+i,s=e[b](d),v=d[k],h=e[A](s+v),y=(d=t+t)[k],-1!=(a=h[b](d))){for(h in m=new be(h=e.substr(s+v,a+y),t,i,r,n),h="",v=0,m)v++;0<v&&(o+=v-1),c=m}else c=X(p.join(i));else c=X(p.join(i));x=!0}else 2==v&&(u=X(p[0]),c=X(p[1]),x=!0);x&&(r&&u in w||(w[u]=c,f=!0),n&&f&&u&&c&&typeof c!=S&&(0<=c[b](t)||0<=c[b](i))&&(w[u]=new be(c,t,i,r,n)))}}function Ae(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))}function xe(e,t,i){var r=e&&e.match(t);return i==L?r:r&&r[i]||L}function Se(e,t){return e.test(t)}function ke(e){var t,i={},r=new Date;if(!e&&se)return se;i.ie=i.opera=i.gecko=i.webkit=i.safari=i.chrome=i.air=i.ipod=i.ipad=i.iphone=i.android=i.webos=i.silk=i.nodejs=i.phantomjs=0,i.mobile=i.ios=i.os=L,i.accel=!1,i.caja=c&&c.cajaVersion,i.cks=R,(e=e||g||"")&&(Se(/windows|win32/i,e)?i.os="windows":Se(/macintosh|mac_powerpc/i,e)?i.os="macintosh":Se(/android/i,e)?i.os="android":Se(/symbos/i,e)?i.os="symbos":Se(/linux/i,e)?i.os="linux":Se(/rhino/i,e)&&(i.os="rhino"),Se(/KHTML/,e)&&(i.webkit=1),Se(/IEMobile|XBLWP7/,e)&&(i.mobile="windows"),Se(/Fennec/,e)&&(i.mobile="gecko"),(t=xe(e,/AppleWebKit\/([^\s]*)/,1))&&(i.webkit=Ae(t),i.safari=i.webkit,Se(/PhantomJS/,e)&&(t=xe(e,/PhantomJS\/([^\s]*)/,1))&&(i.phantomjs=Ae(t)),Se(/ Mobile\//,e)||Se(/iPad|iPod|iPhone/,e)?(i.mobile="Apple",t=(t=xe(e,/OS ([^\s]*)/,1))&&Ae(t.replace("_",".")),i.ios=t,i.ipad=i.ipod=i.iphone=0,(t=xe(e,/iPad|iPod|iPhone/,0))&&(i[t[m]()]=i.ios)):((t=xe(e,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0))&&(i.mobile=t),Se(/webOS/,e)&&(i.mobile="WebOS",(t=xe(e,/webOS\/([^\s]*);/,1))&&(i.webos=Ae(t))),Se(/ Android/,e)&&(i.mobile="Android",(t=xe(e,/Android ([^\s]*);/,1))&&(i.android=Ae(t))),Se(/Silk/,e)&&((t=xe(e,/Silk\/([^\s]*)\)/,1))&&(i.silk=Ae(t)),i.android||(i.android=2.34,i.os="Android"),Se(/Accelerated=true/,e)&&(i.accel=!0))),(t=e.match(/(Chrome|CrMo)\/([^\s]*)/))&&t[1]&&t[2]?(i.chrome=Ae(t[2]),i.safari=0,"CrMo"===t[1]&&(i.mobile="chrome")):(t=xe(e,/AdobeAIR\/([^\s]*)/))&&(i.air=t[0])),i.webkit||((t=xe(e,/Opera[\s\/]([^\s]*)/,1))?(i.opera=Ae(t),(t=xe(e,/Opera Mini[^;]*/,0))&&(i.mobile=t)):(t=xe(e,/MSIE\s([^;]*)/,1))?i.ie=Ae(t):(t=(t=xe(e,/Gecko\/([^\s]*)/))&&xe(e,/rv:([^\s\)]*)/,i.gecko=1))&&(i.gecko=Ae(t))));try{r.setTime(r.getTime()+1e3),p.cookie=cstr(["sf_ck_tst=test; expires=",r.toGMTString(),"; path=/"]),-1!=p.cookie.indexOf("sf_ck_tst")&&(i.cks=!0)}catch(e){i.cks=R}try{typeof process==S&&process.versions&&process.versions.node&&(i.os=process.platform,i.nodejs=numberify(process.versions.node))}catch(e){i.nodejs=0}return i}function Ce(){ee&&(clearTimeout(ee),ee=0)}function Te(e){Ue(h,"load",Te),Ue(h,A,Te),Q=!0}function Ee(){var e,t,i,r;if(Ce(),300<=Z&&(Q=!(K=L)),Q===L){try{i=(t=(e=p&&p.body)&&Me("*",e))&&t[k],r=e&&e.lastChild}catch(e){Y=0,K=L}Y&&i==Y&&r==K?Q=!(K=L):(Y=i,K=r,Z+=1,ee=setTimeout(Ee,50))}else K=L}function _e(e){var t,i=Ve(e,"id");(t=i&&ie[i])&&(Ue(e,"load",t),ie[i]=L,delete ie[i])}function Ie(e){return e&&"string"==typeof e&&De(e)||e}function Pe(e,t,i,r){try{oe=oe||s.msghost}catch(e){oe=L}if(h==top)return e&&oe&&oe[e]&&oe[e](t,i,r)}function Ne(e){var t=L;try{e&&(t=9==e[F]?e:e[i]||e.ownerDocument||L)}catch(e){t=L}return t}function Fe(e){var t,i=L,r="parentWindow",n="defaultView";try{e&&(i=(i=e[r]||e[n]||L)||((t=Ne(e))&&(t[r]||t[n])||L))}catch(e){i=L}return i}function De(e){var t,i=arguments;return(t=1<i[k]?Ne(i[1]):p)&&t.getElementById(e)||L}function He(e){return e&&1==e[F]&&e.tagName[m]()||""}function Me(e,t){var i=[];try{i=t&&t[b]?t[b](e)||i:p[b](e)||i}catch(e){i=[]}return i}function Oe(e){return e&&(e.parentNode||e.parentElement)}function Ve(e,t,i){try{2<arguments[k]?i===L?G?e[w](t,0):e[w](t):(i=u(i),"class"==t[m]()?e.className=i:G?e[y](t,i,0):e[y](t,i)):i=u(G?e[v](t,0):e[v](t))}catch(e){i=""}return i}function je(e,t){var i;try{i=e.style,1<arguments[k]?i.cssText=u(t):t=i.cssText}catch(e){t=""}return t}function Re(e,t){return(1<arguments[k]&&Ne(t)||p).createElement(e)}function Le(e,t){var i=R;try{e&&(i=e.appendChild(t))}catch(e){i=R}return i}function We(e){var t,i=R,r=He(e)==D;r&&(Pe("detach",e),_e(e),z||Ve(e,"src",N));try{(t=Oe(e))&&(t.removeChild(e),i=!0,z&&r&&a())}catch(e){}return e=t=L,i}function Be(e,t,i){try{V?e[O]("on"+t,i):e[O](t,i,R)}catch(e){}e=i=L}function Ue(e,t,i){try{V?e.detachEvent("on"+t,i):e.removeEventListener(t,i,R)}catch(e){}e=i=L}function qe(){var e;return Ce(),Q?!(K=L):((e=p.readyState)&&(K=L,Q="loaded"==e||"complete"==e||R),K=L,Z=Y=0,Ee(),!!Q)}function Xe(e){if(qe())try{o.callable(e)&&e()}catch(e){e=L}else setTimeout(function(){Xe(e),e=L},51)}function ze(e){var t="";if(e=e||h.event){try{e.returnValue=R}catch(e){}try{e.cancelBubble=!0}catch(e){}try{e.stopped=!0}catch(e){}for(t in W)if(W[t])try{e[t]()}catch(e){}}return R}function $e(e){var t=L;try{t=(e=e||h.event)?e[re]||e[ne]:L}catch(e){t=L}return t}function Ge(e,t,i,r,n){return Je(e,t,i,r,n)}function Je(e,t,i,r,n,o){var s,a,c,d,h,l=["<",D," "],p="";if(o)c=e;else{if(He(e=Ie(e))!=D)return L;c=e.cloneNode(R)}for(s in"src"in(t=t||{})?Ve(c,"src",L):t.src=Ve(e,"src")||N,"name"in t?Ve(c,"name",L):t.name=Ve(e,"name"),t.src||(t.src=N),p=n&&Pe("prep",t),o||(Ve(c,"width",L),Ve(c,"height",L)),i&&((a=je(c))&&";"!=a.charAt(a[k]-1)&&(a+=";"),je(c,[a,u(i)])),Le(a=Re("div"),c),h=a.innerHTML.replace(/<iframe(.*?)>(.*?)<\/iframe>/gim,"$1"),l.push('name="',t.name,'" ',h,"></",D,">"),delete t.name,a.innerHTML=u(l),d=a.firstChild,t)Ve(d,s,t[s]);return Ve(d,"id")||(Ve(d,"id","sf_iframe_"+te),te++),Ve(d,"FRAMEBORDER","no"),Ve(d,"SCROLLING","no"),Ve(d,"ALLOWTRANSPARENCY",!0),Ve(d,"HIDEFOCUS",!0),Ve(d,"TABINDEX",-1),Ve(d,"MARGINWIDTH",0),Ve(d,"MARGINHEIGHT",0),function(i,r){var n,o;f(r)&&(n=function(e){var t=$e(e);if(_e(t),t&&r)try{r.call(t,e)}catch(e){}t=i=r=n=o=L},o=Ve(i,"id"),_e(i),o&&(ie[o]=n),Be(i,"load",n)),n=L}(d,r),p&&Pe("attach",d,p,n),p=n=c=r=e=a=null,d}function Qe(e,t,i,r){return Je(Re(D),e,t,i,r,!0)}(e=be[t]).toString=e.valueOf=function e(t,i,r,n){var o,s,a,c=[];for(o in t=t||"&",i=i||"=",this)s=typeof(a=this[o]),a&&s==d||(a&&s==S&&(a=e.apply(a,[t,i,r,n])),r&&(o=q(o)),n||(a=q(a)),c.push(o,i,a,t));return ae(c)},o=fe(j+".lang",{ParamHash:be,cstr:ae,cnum:ce,cbool:function(e){return!(!e||"0"==e||"false"==e||"no"==e||"undefined"==e||"null"==e)||R},noop:function(){},trim:ue,callable:de,guid:function(e){return ae([e||"","_",le(),"_",pe(),"_",$++])},mix:he,time:le,rand:pe,def:fe,ns:function(e,t){var i,r,n,o=/\[(('|")?)((\s|.)*?)(('|")?)\]/gm,s=/\./gm,a=0,c="",d=!0;if(i=t=t||h,e)if(e=ae(e))if(r=(e=ue(e)).match(/(\[(.{1,})\])|(\.\w+)/gm))for(c=e[l](/(\[.*)|(\..*)/g,""),r.unshift(c);n=r[a++];){if(!i[n=n[l](o,"$3")[l](s,"")]){d=R;break}i=i[n]}else i=i[n=e];else d=R;else d=R;return d&&i||R},jssafe_html:function(e){var t=ae(e);return t&&(t=(t=(t=(t=(t=(t=(t=t.replace(/(<noscript[^>]*>)(\s*?|.*?)(<\/noscript>)/gim,"")).replace(/\\/g,ge)).replace(/\"/g,me)).replace(/\n/g,ye)).replace(/\r/g,ve)).replace(/<(\/)*script([^>]*)>/gi,we)).replace(/\t/gi," "),t=ae([E,t,E]),t=E+t+E),t},isArray:function(e){return null!=e&&"string"!=typeof e&&null!=e.length&&e.constructor==Array}}),fe("$sf.env",{isIE:z}),u=ae,f=de,(se=ke()).parse=ke,o.def("$sf.env.ua",se,L,!0),function(){var t,e,i="SCROLLING",r="createEvent",n="UIEvent";z?(re="srcElement",ne="target",Ve(t=Re(D),i,"no"),G="no"!=Ve(t,i),a=H in h?function(){J&&clearTimeout(J),J=setTimeout(function(){try{h[H]()}catch(e){}},3e3)}:_lang.noop):(re="target",ne="currentTarget"),h[M]&&!z?(O=M,"removeEventListener"):z&&(V=!0,O="attachEvent","detachEvent"),t=L;try{t=p[r](n)}catch(e){t=L}if(!t)try{t=p[r](n+"s")}catch(e){t=L}if(t)for(e in W)t[e]&&(W[e]=1);t=L,Be(h,"load",Te),Be(h,A,Te),s=o.def(j+".dom",{doc:Ne,view:Fe,elt:De,tagName:He,tags:Me,par:Oe,make:Re,css:je,attr:Ve,gc:a,append:Le,purge:We,attach:Be,detach:Ue,ready:qe,wait:Xe,evtCncl:ze,evtTgt:$e},L,!0)}(),iframes=o.def(j+".dom.iframes",{make:Qe,clone:Ge,replace:function(e,t,i,r,n){var o,s,a,c,d,h;s=(d=He(s=(c=(e=e||{}).id)&&Ie(c)))?s:L,(a=d==D?s:L)?(Pe("detach",a),_e(a),h=Oe(a),Ve(o=Ge(a,e,t,r,n),"onload",L),Ve(o,"onreadystatechange",L)):(i&&He(i=Ie(i))&&(h=i),!h&&s&&(h=Oe(s)),o=Qe(e,t=u(t)||je(s)||"",r,n));try{h?a?h.replaceChild(o,a):s?h.replaceChild(o,s):Le(h,o):Le(p.body,o)}catch(e){}return o=s=e=a=h=r=L,De(c)},view:function(e){var t,i,r,n,o,s,a=0;try{if(!(t=e.contentWindow||L))for(n=(i=(r=Ne(e))&&Fe(r))&&i.frames||[];o=n[a++];){try{s=o.frameElement}catch(e){s=L}if(s&&s==e){t=o;break}}}catch(e){t=L}return t}},L,!0),logger=o.def(j+".logger",{log:function(e){h.console&&console.log&&console.log(e)},error:function(e){h.console&&console.error?console.error(e):h.console&&console.log&&console.log(e)}},L,!0),info=o.def("$sf.info",{errs:[],list:[]},L,!0),x[t].trim||(x[t].trim=o.trim)}(window),function(O){var V=null,j=!0,R=!1,a=6e4,d="sf_pos",C="sf_pos_rel_el",h=750,e=1,_=10,T="onBeforePosMsg",E="onPosMsg",c={"exp-ovr":1,"exp-push":0,bg:0,pin:0,"read-cookie":0,"write-cookie":0},I="exp-ovr",p="collapse",l="error",u="geom-update",o="focus-change",P=3e3,L="object",s="string",N="style",W="length",F="width",D="height",H="PX",f="clip",B="scroll",g="onscroll",U="compatMode",m="documentElement",t="document",q="nodeType",v="contains",y="compareDocumentPosition",M="elementFromPoint",X="auto",z="hidden",$="overflow",G="toFixed",n="attach",w="detach",b="message",A="postMessage",x="guid",S="application/x-shockwave-flash",k=O&&O.$sf,J=k&&k.ver,i=k&&k.env,r=i&&i.ua,Q=k&&k.lib,Y=Q&&Q.lang,K=Q&&Q.dom,Z=K&&K.iframes,ee=Y&&Y.cbool,te=Y&&Y.cnum,ie=Y&&Y.cstr,re=Y&&Y.callable,ne=Y&&Y.noop,oe=Y&&Y[x],se=Y&&Y.mix,ae=K&&K.elt,ce=K&&K.par,de=(K&&K.tags,K&&K.attr),he=K&&K.doc,le=K&&K.tagName,pe=K&&K.view,ue=Z&&Z.view,fe=(K&&K.purge,K&&K.ready,O&&O.escape),ge=O&&O.Math,me=ge&&ge.max,ve=ge&&ge.min,ye=ge&&ge.round,we=V,be=Y&&Y.ParamHash,Ae=O&&O[t],xe=i&&i.isIE,Se=r&&r.ie||0,ke=r&&r.webkit||0,Ce=r&&r.gecko||0,Te=r&&r.opera||0,Ee=O&&O.location,_e=Ee&&(Ee.protocol+"//"+(Ee.host||Ee.hostname)||""),Ie={},Pe={},Ne={},Fe={},De={},He=R,Me=R,Oe=R,Ve=R,je=0,Re=0,Le=V,We=V,Be=V,Ue=V,qe=["ShockwaveFlash.ShockwaveFlash.11","ShockwaveFlash.ShockwaveFlash.8","ShockwaveFlash.ShockwaveFlash.7","ShockwaveFlash.ShockwaveFlash.6","ShockwaveFlash.ShockwaveFlash"];function Xe(e){var t,i,r,n,o,s=this;if(!arguments.length)return Ue?se({},Ue):V;if(!(s instanceof Xe))return new Xe(e);if(!e)return Ue=V;if(o=!!Ue,s.auto="auto"in e?ee(e.auto):j,s.cdn=ie(e.cdn),s.debug=ee(e.debug),s.root=ie(e.root),s.renderFile=ie(e.renderFile),s.msgFile=ie(e.msgFile),s.to=te(e.to,a),s.ver=ie(e.ver)||J,s.onBeforePosMsg=re(e.onBeforePosMsg)?e.onBeforePosMsg:ne,s.onPosMsg=re(e.onPosMsg)?e.onPosMsg:ne,s.onStartPosRender=re(e.onStartPosRender)?e.onStartPosRender:ne,s.onEndPosRender=re(e.onEndPosRender)?e.onEndPosRender:ne,s.onFailure=re(e.onFailure)?e.onFailure3:ne,i=e.positions,s.positions=t={},i)for(r in i)(n=i[r])&&typeof n==L&&(t[r||n.id||oe(d)]=new ze(n));Ue=s,o=!!(o&&s.auto&&Y&&Y.ns("$sf.host.boot"));try{o&&k.host.boot()}catch(e){}return se({},Ue)}function ze(e,t,i){var r,n,o=this,s=e&&typeof e||"";return o instanceof ze?(s==L?(o.id=ie(e.id),o.dest=ie(e.dest||t),o.bg=ie(e.bg)||"transparent",o.tgt=ie(e.tgt)||"_top",o.css=ie(e.css),o.w=te(e.w,0),o.h=te(e.h,0),o.z=te(e.z,0),o.supports=se({},e.supports||c,j,j,j),o.w&&o.h?o.size=o.w+"x"+o.h:(r=ie(e.size))?(n=r.split(/x/gi),o.w=te(n[0],0),o.h=te(n[1],0),o.size=r):o.size=""):"string"==s?(o.id=ie(e),o.dest=ie(e.dest)):(o.dest="",o.bg="transparent",o.tgt="_top",o.css="",o.w=0,o.h=0,o.size="",o.z=0,o.supports={}),o.id=o.id||oe(d),!Ue&&i&&Xe(i),Ue&&(Ue.positions[o.id]=o),se({},o)):new ze(e,t,i)}function $e(e){if(e){if(-1<e.indexOf("${sf_ver}")&&(e=e.replace(/\${sf_ver}/gi,$sf.ver)),-1<e.indexOf("${ck_on}")){var t=function(){var e=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie"),navigator&&(navigator.cookieEnabled=e));return e}()?"1":"0";e=e.replace(/\${ck_on}/gi,t)}if(-1<e.indexOf("${flash_ver}")){var i=function(){if(Be!==V)return Be;if(navigator.plugins&&0<navigator.plugins.length){var e=navigator.mimeTypes;e&&e[S]&&e[S].enabledPlugin&&e[S].enabledPlugin.description&&(Be=e[S].enabledPlugin.version)}else if(k.env.isIE){var t,i,r,n;for(t=0;t<qe.length;t++)try{i=new ActiveXObject(qe[t]),r=i.GetVariable("$version"),n=r.indexOf(" "),Be=-1<n?r.substr(n+1).replace(/,/gi,"."):r.replace(/,/gi,".");break}catch(e){i=V,Be=0;continue}}else Be=0;return Be}();e=e.replace(/\${flash_ver}/gi,i)}}return ie(["<scr","ipt type='text/javascript', src='",e,"'></scr","ipt>"])}function Ge(e){var t=e&&he(e)||Ae,i=t[U],r=t[m];return i&&!Te&&"CSS1Compat"!=i&&(r=t.body),r}function Je(e){return(e=ie(e))&&-1==e.search(/\D+/g)?j:e&&-1!=e.search(/px/gi)?j:void 0}function Qe(e){var t,i,r,n,o=[-1,-1,-1,-1],s=[f+"Top",f+"Right",f+"Bottom",f+"Left"],a=0;if(!e)return o;if(Se)for(;i=s[a];)Je(t=e[i])&&0<=(t=te(t,-1))&&(o[a]=t),a++;else if((t=e[f])&&-1!=t.search(/\d+/g))for(n=(o=(o=(t=t.replace(/\w+\(([^\)]*?)\)/g,"$1")).split(" "))[W]<=1?o.split(","):o)[W],a=0;n--;)Je(r=o[a])?o[a]=te(r,-1):o[a]=-1,a++;return o}function Ye(e,t){var i,r=0,n=0;return(i=it(e))&&(r=i.borderTopWidth,n=i.borderLeftWidth,r=Je(r)?te(r,0):0,n=Je(n)?te(n,0):0,Ce&&/^t(?:able|d|h|r|head|foot)$/i.test(le(e))&&(r=n=0)),(t=t||{t:0,l:0}).t+=r,t.l+=n,t}function Ke(e){var t,i,r,n,o={x:0,y:0,w:0,h:0},s={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},a=0,c=0;return i=(t=he(e)||Ae)[m]||s,n=t.body||s,(r=t.defaultView)&&(a=te(r.pageXOffset,0),c=te(r.pageYOffset,0)),o.x=me(i.scrollLeft,n.scrollLeft,a),o.y=me(i.scrollTop,n.scrollTop,c),o.w=me(i.scrollWidth,n.scrollWidth,0),o.h=me(i.scrollHeight,n.scrollHeight,0),o}function Ze(e){var t,i,r,n={t:0,l:0,r:0,b:0,w:0,h:0,z:0},o=0,s=0,a=R,c=Ge(e),d=Ke(e);if(e&&1==e[q])try{for(n.l=e.offsetLeft||0,n.t=e.offsetTop||0,t=e,a=Ce||519<ke;(t=t.offsetParent)&&(n.t+=t.offsetTop||0,n.l+=t.offsetLeft||0,a&&Ye(t,n),t!=c););if("fixed"!=it(t=e,"position")){for(t=e;(t=ce(t))&&(1==t[q]&&(o=t.scrollTop||0,s=t.scrollLeft||0,Ce&&"visible"!=it(t,$)&&Ye(t,n),n.l-=s,n.t-=o),t!=c););n.t+=d.y,n.l+=d.x}else n.t+=d.y,n.l+=d.x;i=Se||e!=Ge(e)?(r=e.offsetHeight,e.offsetWidth):(r=e.clientHeight,e.clientWidth),n.b=n.t+r,n.r=n.l+i,n.w=me(n.r-n.l,0),n.h=me(n.b-n.t,0),n.z=it(e,"zIndex")}catch(e){n={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return n}function et(e){var t=Ge(e),i=0,r=0;return t&&(i=t.scrollWidth||0,r=t.scrollHeight||0),{t:0,l:0,b:r,r:i,w:i,h:r}}function tt(e,t){var i=R,r=e&&e[q]||-1,n=t&&t[q]||-1;if(1==r&&-1!=n)if(e[v])if(Te||1==n)i=e[v](t);else for(;t;){if(e===t){i=j;break}t=t.parentNode}else e[y]&&(i=e===t||!!(16&e[y](t)));return i}function it(e,t){var i="",r="getComputedStyle";if(!(!arguments[W]||!t))if(Se)try{i=e.currentStyle[t]}catch(e){i=""}else try{i=pe(e)[r](e,V)[t]}catch(e){i=""}else if(Se)try{i=e.currentStyle}catch(e){i=V}else try{i=pe(e)[r](e,V)}catch(e){i=V}return i}function rt(v,y,w){var e,t,i,r,n,o,s,a,c,d,h,l,p,u,f,g,m,b,A,x,S=v&&ce(v),k=Ge(v),C=we(v),T=we(k),E=Ke(k),_=et(v),I={t:0,l:0,r:0,b:0,w:0,h:0},P={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},N=0,F=0,D=R,H=R,M=R;D=R;if(y=y&&typeof y==L?y:{},S)for(;(e=it(S))&&("block"!=e.display&&"absolute"!=e.position&&"none"==e.float&&"none"==e.clear||(u=e[$+"X"],f=e[$+"Y"],g=Qe(e),h=S==k?(a=E.w,E.h):(a=S.scrollWidth,S.scrollHeight),c=S.offsetWidth,l=S.offsetHeight,d=S.clientWidth,p=S.clientHeight,(u==z||0<g[1]||0<g[3])&&(A||(m=1,A=S)),(f==z||0<g[0]||0<g[2])&&(A||(b=1,A=S)),u==B&&(A=S,N=l-p,D=j),f==B&&(A=A||S,F=c-d,D=j),u==X&&(A=A||S,d<a&&(N=l-p),D=j),f==X&&(A=A||S,p<h&&(F=c-d),D=j),!A))&&(S==k&&(d<a&&(N=(i=O.innerHeight||l)-p),p<h&&(F=(t=O.innerWidth||c)-d),D=j),(S=ce(S))&&1==S[q]););return C.w&&C.h&&(A&&A!=k?(e=it(A),"body"==le(A)?(A=k,r=C.t,n=C.l):r=n=0,I=we(A),0<g[1]&&(I.w=g[1],I.r=I.l+I.w),0<g[3]&&(I.l=I.l+g[3],I.w=I.w-g[3]),0<g[2]&&(I.h=g[2],I.b=I.t+I.h),0<g[0]&&(I.t=I.t+g[0],I.h=I.h-g[0]),C.t>I.t&&0<I.t&&(r=C.t-I.t),C.l>I.l&&0<I.l&&(n=C.l-I.l),A.scrollTop,A.scrollLeft,h=A.scrollHeight,a=A.scrollWidth,P.t=me(r,0),P.l=me(n,0),e&&(m=e[$+"X"]==z||0<g[1]||0<g[3],b=e[$+"Y"]==z||0<g[0]||0<g[2]),C.t>=I.b?P.b=0:(!b&&C.t>=I.b&&(b=1),h>A.clientHeight?P.b=b?0:me(h-C.h-N-r,0):P.b=me(I.h-C.h-N-r,0)),C.l>=I.r?P.r=0:(!m&&C.l>=I.r&&(m=1),a>A.clientWidth?P.r=m?0:me(a-C.w-F-n,0):P.r=me(I.w-C.w-F-n,0))):(P.t=me(C.t,0),P.l=me(C.l,0),Se&&"BackCompat"==Ae[U]&&"no"==de(k,B)?b=m=1:(e=it(k))&&(m=e[$+"X"]==z,b=e[$+"Y"]==z),E.h>k.clientHeight?P.b=b?0:(M=j,me(_.h-C.h-N-C.t,0)):P.b=me(T.h-C.h-N-C.t,0),E.w>k.clientWidth?P.r=m?0:(H=j,me(_.w-C.w-F-C.l,0)):P.r=me(T.r-C.w-F-C.l,0)),P.xs=N?1:0,P.ys=F?1:0,P.w=P.r+P.l,P.h=P.t+P.b,A&&A!=k?x=I:(x=T,A=k),n=me(C.l,x.l),o=ve(C.r,H?ve(_.r,x.r):x.r),t=me(o-n,0),r=me(C.t,x.t),s=ve(C.b,M?ve(_.b,x.b):x.b),i=me(s-r,0),P.xiv=te((t/C.w)[G](2)),P.yiv=te((i/C.h)[G](2)),P.iv=te((t*i/(C.w*C.h))[G](2))),y.refNode=A||k,y.isRoot=A==k,y.canScroll=D,y.refRect=A&&A!=k?I:T,y.expRect=P,y.rect=C,w&&function(){var e,t,i,r,n,o,s,a,c,d,h,l,p,u,f,g=0,m=0;if(.5<P.iv&&(He=y,e=nt(v,te(w,1,1)),He=V,m=e[W],r=(t=C.w)*(i=C.h),m))for(;n=e[g++];)o=we(n),a=me(C.l,o.l),c=ve(C.r,o.r),s=me(C.t,o.t),l=(h=c-a)*(d=ve(C.b,o.b)-s),u=(1-h/t)[G](2),f=(1-d/i)[G](2),p=(1-l/r)[G](2),(0<u&&u<P.xiv||0<f&&f<P.yiv)&&(P.xiv=u,P.yiv=f,P.iv=p)}(),P}function nt(e,t){var i,r,n,o,s,a,c,d,h,l=we(e),p=he(e),u=Ge(p),f=l.t,g=l.l,m=l.r-l.l,v=l.b-l.t,y=_,w=[],b=ye(m/y),A=ye(v/y),x=b,S=A,k={},C={},T=[],E=0;if(He?C=He:rt(e,C,j),a=C.refNode,h=(c=C.refRect)&&a&&a!=u?(d=c.r,c.b):(d=g+m,f+v),p&&u&&p[M]){for(;x<m;){for(S=A;S<v;)r=f+S,(i=g+x)<d&&r<h&&T.push([i,r]),S+=A;x+=b}for(t=te(t,T[W]);n=T[E++];){s=p[M](n[0],n[1]);try{s&&1==s.nodeType&&s!==u&&s!==e&&!tt(e,s)&&((o=de(s,"id"))||(o=Y.guid("geom_inter"),de(s,"id",o)),!k[o]&&w[W]<t&&(k[o]=1,w.push(s)))}catch(e){}}}for(o in o="",k)0==o.indexOf("geom_inter")&&(s=ae(o))&&de(s,"id",V);return w}function ot(e,t,i,r){return We=We||K.msghost_fb,e&&We&&We[e]&&We[e](t,i,r)}function st(e){!Me&&e&&e.data==initID&&(Me=j,K.evtCncl(e),K[w](O,b,st))}function at(e){var t=e&&e.data,i=e&&e.source,r=t&&"string"==typeof t&&-1!=t.indexOf(x)&&be(t),n=r&&r.id,o=n&&ae(n),s=o&&ue(o),a=n&&Pe[n],c=r&&r[x],d=a&&a[x],h=a&&a._xmsgcb,l=R;if(d&&c&&c==d&&i&&s&&s==i)try{l=h(r.msg)}catch(e){l=R}return l&&K.evtCncl(e),l}function ct(e,t){var i,r,n,o=e&&Pe[e],s=R;if(o){if(o)if((i=be()).msg=t,i.guid=o.guid,dt()){n=ae(e),r=ue(n);try{r[A](ie(i),o.srcHost||"*"),s=j}catch(e){s=R}}else s=ot("send",e,t)}else s=ot("send",e,t);return i=r=n=V,s}function dt(){return Me}function ht(e){var t,i,r,n,o,s=V,a=function(){var e,t=Ee.href.indexOf("#");return-1<(t=(e=-1<t?Ee.href.substr(0,t):Ee.href).indexOf("?"))&&(e=e.substr(0,t)),escape(e)}();return e&&(t=e.name,i=be(t),n=0!=(n=(r=ie(e.src))&&r.substring(0,r.indexOf("/",9))).search(/http/gi)?"":n,(s=be(i)).id=e.id||"iframe_"+oe(),s.src=r,s.srcHost=n,s[x]=s[x]||oe(),s.host=_e,s.loc=a,s.proxyID="",dt()?(s.html5=1,s.proxyPath=""):(o=ot("prep",s))&&(s=o),e.name=s),s}function lt(e,t,i){var r;"iframe"==le(e)&&(r=de(e,"id"))&&t&&t instanceof be&&r==t.id&&(dt()?((Pe[r]=t)._xmsgcb=i,Oe||(K[n](O,b,at),Oe=j)):ot(n,e,t,i))}function pt(e){var t=de(e,"id"),i=t&&Pe[t],r=j;if(i){for(t in i&&(i._xmsgcb=Pe[t]=V,i=V,delete Pe[t]),t="",Pe)if((i=Pe[t])&&i[x]){r=R;break}r&&dt()&&Oe&&(Oe=R,K[w](O,b,at)),e=i=V}else ot(w,e)}function ut(e){var t,i,r=[],n=arguments,o=n[W],s=0,a=R;if(Ue&&(t=Ue[e])){for(;o--;)(i=n[s++])!=e&&r.push(i);try{a=t.apply(V,r)}catch(e){a=R}}return a}function ft(){je&&(clearTimeout(je),je=0)}function gt(){Re&&(clearTimeout(Re),Re=0)}function mt(e){gt(),Re=setTimeout(function(){!function(e){var t,i,r,n;for(t in Ie)i=Ie[t],n=i&&i.dest,n&&ae(n)&&i&&(r=be(),data=be(),r.pos=t,r.cmd=data.cmd=o,r.value=e,ut(E,t,o,e),_t(i,r));gt()}(e)},2)}function vt(e){ft(),je=e?setTimeout(bt,h):setTimeout(wt,h)}function yt(e){var t,i,r,n,o,s;for(t in Ie)e&&t in De||(o=(n=(i=Ie[t])&&i.dest)&&ae(n))&&i&&(s=Nt(t,o,j),(r=be()).pos=t,r.cmd=u,r.geom=fe(s),ut(E,t,u,s),_t(i,r));ft()}function wt(){yt()}function bt(){yt(j)}function At(e){mt(j)}function xt(e){mt(O[t].hasFocus())}function St(e){vt(1)}function kt(e){vt()}function Ct(e){var t,i;ft();try{for(t in K.detach(O,B,St),K.detach(O,"resize",kt),K.detach(O,"unload",Ct),K.detach(O,"focus",At),K.detach(O,"blur",xt),De)(i=De[t])&&(i.tID&&clearTimeout(i.tID),K.detach(De[t],B,i[g]),i[g]=i.node=V),De[t]=V,delete De[t];Ve=R}catch(e){}}function Tt(e){var t,i,r=R;if((t=be(e,V,V,j,j))&&t.pos&&(i=Ie[t.pos]))switch(t.cmd){case"exp-push":Ft(t,j),r=j;break;case"exp-ovr":Ft(t),r=j;break;case"collapse":!function(e,t,i){var r,n=e&&e.pos,o=n&&Ie[n],s=o&&o.conf,a=s&&s.dest,c=a&&ae(a),d=c&&ae(C+"_"+n),h=c&&c[N],l=d&&d[N];if(!(n&&o&&c&&d))return;if(!o.expanded)return;(r=De[n])&&r.tID&&clearTimeout(r.tID);if(ft(),!i&&ut(T,n,p,0,0))return;h.left=h.top="0px",l[F]=h[F]=s.w+H,l[D]=h[D]=s.h+H,h.zIndex=o.dx=o.dy=0,Pt(a),i||(ut(E,n,p,0,0),e.cmd=t?"collapsed":"collapse",e.geom=fe(Nt(n,c,j)),_t(o,e));c=h=d=l=o=e=V}(t),r=j;break;case"msg":ut(E,t.pos,"msg",t.msg),r=j;break;case l:!function(e){var t=e&&e.pos,i=t&&Ie[t],r=i&&i.conf,n=r&&r.dest,o=n&&ae(n),s=o&&ae(C+"_"+t);o&&o[N],s&&s[N];k&&k.info&&k.info.errs&&k.info.errs.push(e);ut(E,t,l,e)}(t),r=j;break;case u:k.lib.logger.log("Geom update complete: "+t.pos),r=j;break;case"read-cookie":r=i.conf&&i.conf.supports&&i.conf.supports[t.cmd]&&"0"!=i.conf.supports[t.cmd]?(function(e){var t,i,r=e&&e.pos,n=r&&Ie[r],o=n&&n.conf,s=o&&o.dest,a=s&&ae(s),c="read-cookie";if(!o.supports||!o.supports[c]||"0"==o.supports[c])return;if(!r||!n||!a)return;if(!(t=e.cookie))return;i=function(){var e,t,i,r={};for(e=document.cookie.split("; "),t=e.length-1;0<=t;t--)i=e[t].split("="),r[i[0]]=i[1];return r}(),ut(E,c,r,0,0),e.cmd=c,e.geom=fe(Nt(r,a,j)),e.value=i[t],_t(n,e),a=n=e=V}(t),j):R;break;case"write-cookie":r=i.conf&&i.conf.supports&&i.conf.supports[t.cmd]&&"0"!=i.conf.supports[t.cmd]?(function(e){var t,i,r=e&&e.pos,n=r&&Ie[r],o=n&&n.conf,s=o&&o.dest,a=s&&ae(s),c="write-cookie";if(!o.supports||!o.supports[c]||"0"==o.supports[c])return;if(!r||!n||!a)return;if(!(t=e.cookie))return;i=escape(e.value);var d=new Date;d.setDate(d.getDate()+1);var h=i+"; expires="+d.toUTCString()+"; SameSite=None; Secure";document.cookie=t+"="+h,ut(E,c,r,0,0),e.cmd=c,e.geom=fe(Nt(r,a,j)),e.info=i,e.value="",_t(n,e),a=n=e=V}(t),j):R}return r}function Et(){var e,t=j;for(e in Ne){t=R;break}return t}function _t(t,i){Le="sending-msg-down-"+i.cmd,setTimeout(function(){var e=t&&t.dest;e&&i&&ct(e,i.toString()),Le="",i=e=t=V},e)}function It(){var e=this,t=K.attr(e,"_pos_id");Ne[t]&&(clearTimeout(Ne[t]),delete Ne[t],Fe[t]=t,K.attr(e,"_pos_id",V),K.attr(e,"name",V),e[N].visibility="inherit",e[N].display="block",ut("onEndPosRender",t)),Et()||(Le="")}function Pt(e,t,i,r,n){if(xe){var o=ae(e),s="shm_"+e,a=ae(s);if(t){if(a)return void(a[N].visibility="visible");a=Z.clone(o,{id:s,src:"",name:s},[F,":",i,H,";position:absolute;",D,":",r,H,";z-index:",n-1,";filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0)"]),K.append(ce(o),a)}else!t&&a&&(a[N].visibility="hidden")}}function Nt(t,e,i){var r,n,o,s,a=be(),c={};try{K.bounds(e,c,j),i||c.isRoot||!c.canScroll||((o=c.expRect).xs||o.ys)&&(r=De[t],n=c.refNode,r&&r.node!=n&&(r.tID&&clearTimeout(r.tID),K.detach(void 0,B,r[g]),r.node=r[g]=V,De[t]=V,delete De[t]),De[t]||((r={}).node=n,r[g]=function(e){!function(e,o){var s=De[o];s&&(s.tID&&(clearTimeout(s.tID),delete s.tID),s.tID=setTimeout(function(){var e,t,i=Ie[o],r=i&&i.dest,n=r&&ae(r);n&&i&&(e=Nt(o,n,j),(t=be()).pos=o,t.cmd=u,t.geom=fe(e),ut(E,o,u,e),_t(i,t)),delete s.tID},h))}(0,t)},De[t]=r,K.attach(n,B,r[g])))}catch(e){a=V}try{a&&(a.win=be(K.winRect()),a.par=be(c.refRect),o=be(c.expRect),(s=be(c.rect)).iv=o.iv,s.xiv=o.xiv,s.yiv=o.yiv,delete o.iv,delete o.xiv,delete o.yiv,a.exp=o,a.self=s)}catch(e){a=V}return a}function Ft(e,t){var i,r,n,o,s,a,c,d,h,l,p,u,f,g,m,v,y,w,b,A,x=R,S=R,k=e&&e.pos;k&&(r=(i=Ie[k])&&i.conf,i&&r&&(f=i.dest,n=ae(f),o=ae(C+"_"+k),n&&o&&(s=n[N],a=o[N],s&&((A=De[k])&&A.tID&&clearTimeout(A.tID),ft(),w=e.exp_obj,c=r.w,d=r.h,w?(g=te(w.t,0,0),m=te(w.l,0,0),v=te(w.r,0,0),y=te(w.b,0,0),p=te(c+m+v,0,0),u=te(d+g+y,0,0),g?(l=-1*g,S=j):l=0,m?(h=-1*m,x=j):h=0):(p=(x=(h=i.dx=te(e.dx))<0)?c+-1*h:c+h,u=(S=(l=i.dy=te(e.dy))<0)?d+-1*l:d+l),p<=c&&u<=d||ut(T,k,I,h,l)||(s[F]=p+H,s[D]=u+H,x&&(s.left=h+H),S&&(s.top=l+H),b=(b=te(i.z,0))||P,s.zIndex=b,Pt(f,j,p,u,b-1),t?(a[F]=p+H,a[D]=u+H):(a[F]=c+H,a[D]=d+H),i.expanded=j,e.dx=h,e.dy=l,e.w=p,e.h=u,e.cmd="expand",e.geom=fe(Nt(k,n,j)),ut(E,k,I,h,l),_t(i,e),s=o=n=i=e=V)))))}function Dt(){var e,t,i,r,n,o,s=0,a=j,c=arguments;if(!c[W]||"*"==c[s])for(e in c=[],Ie)c.push(e);for(;e=c[s++];)(t=Ie[e])&&(e in Ne&&(clearTimeout(Ne[e]),delete Ne[e]),e in Fe&&delete Fe[e],o=(r=(i=t.dest)&&ae(i))&&ce(r),-1!=K.attr(o,"id").indexOf(C)&&(o=ce(n=o)),K.purge(r),n&&K.purge(n),Ie[e]=V,delete Ie[e],r=K.make("div"),K.attr(r,"id",i),K.append(o,r));for(e in e="",Ie){a=R;break}a&&(Le="",Ct())}Y&&O==top&&(we=Se?function(e){var t,i,r,n,o,s,a,c,d,h={t:0,l:0,r:0,b:0,w:0,h:0,z:0},l="BackCompat";if(e&&1==e[q])try{if(r=he(e)||Ae,!K.ready())return Ze(e);t=Ke(e),i=e.getBoundingClientRect(),h.t=i.top,h.l=i.left,s=a=2,n=r[U],c=(o=it(r[m])).borderLeftWidth,d=o.borderTopWidth,6===Se&&n!=l&&(s=a=0),n==l&&(s=c=Je(c)?te(c,0):0,a=d=Je(d)?te(d,0):0,h.t-=s,h.l-=a),h.t+=t.y,h.l+=t.x,h.b=h.t+e.offsetHeight,h.r=h.l+e.offsetWidth,h.w=me(h.r-h.l,0),h.h=me(h.b-h.t,0),h.z=it(e,"zIndex")}catch(e){h={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return h}:Ze,Y.def("dom",{rect:we,currentStyle:it,contains:tt,docRect:et,winRect:function(e){var t=e&&pe(e)||O,i=t.innerHeight||0,r=t.innerWidth||0,n=t.screenY||t.screenTop||0,o=i+n,s=t.screenX||t.screenLeft||0,a=r+s,c=Ge(e);return i||r||!c||(i=c.clientHeight||0,a=s+(r=c.clientWidth||0),o=n+i),{t:n,l:s,b:o,r:a,w:r,h:i}},bounds:rt,overlaps:nt},Q,j),function(){if(Y){Y.def("msghost",{prep:ht,attach:lt,detach:pt,usingHTML5:dt,send:ct},K,j),K[n](O,b,st),initID="xdm-html5-init-"+oe(),_e=0==_e.indexOf("file")?_e="file":_e;try{O[A](initID,"file"==_e?"*":_e)}catch(e){K[w](O,b,st)}}}(),Y.def("$sf.host",{Config:Xe,PosConfig:ze,PosMeta:function e(t,i,r){var n,o;if(!(this instanceof e))return new e(key,r,pos,t);if(n={},o={},!i||typeof i!=s)return this;t&&typeof t==L&&(n=se(n,t)),r&&typeof r==L&&(o[i]=r),this.toString=function(){var e=new be;return e.shared=n,e.non_shared=o,e.toString()},this.value=function(e,t){var i="";return e&&typeof e==s?(t&&typeof t==s||(t="shared"),i="shared"==t?n[e]||"":e in o&&o[prop_key]||""):i}},Position:function e(t,i,r,n){var o,s=this,a=t&&typeof t;if(!(s instanceof e))return new e(t,i,r,n);if(null==Ue){var c="Publisher Config not initialized - abort";return logger.error(c),void info.errs.push(c)}a==L?se(s,t):o=s.id=ie(t)||oe(d),i?(s.html=i,s.src=""):s.src?s.html=$e(s.src):(s.html=s.html||"",s.src=""),s.html||(s.html=""),s.meta=r||s.meta||{},s.conf=n||s.conf||{},o&&(Ue&&Ue.positions[o]?s.conf=Ue.positions[o]:n&&(n.id=o,s.conf=new ze(n)))},nuke:Dt,get:function(e){var t=Ie[e];return t?se({},t):null},render:function e(){var t,i,r,n,o,s,a,c,d,h,l,p,u,f,g,m=0,v=arguments;if(!Ue)return R;if(!K.ready())return K.wait(function(){e.apply(V,v),v=V}),V;for(v[0]instanceof Array&&1==v[W]&&(v=v[0]);t=v[m++];)if((r=(i=t.id)?Ue.positions[i]:V)&&(n=(d=r.dest)&&ae(d))){if(p=r.w,u=r.h,!p){try{p=n.offsetWidth}catch(e){p=0}p&&(r.w=p)}if(!u){try{u=n.offsetHeight}catch(e){u=0}u&&(r.h=u)}p&&u&&(c=new be,s=ae(h=C+"_"+i),a=ce(n),s&&a==s&&(a=ce(s)),Pt(d),(g=Ne[i])&&clearTimeout(g),(g=Fe[i])&&delete Fe[i],Ne[i]=setTimeout(function(){var e,t;(t=(e=i)&&Ne[e])&&(clearTimeout(t),Dt(e),ut(E,"render-timeout",e)),Et()||(Le="")},Ue.to),Le="rendering",ut("onStartPosRender",i,r,t),l=["position:","",";z-index:0;",F,":",p,H,";",D,":",u,H,";","visibility:inherit;"],s?((f=s[N]).width=p+H,f.height=u+H,(f=n&&n[N]).width=p+H,f.height=u+H):(l[1]="relative",(s=K.make("div")).id=h,s.className="iab_sf",o=n.cloneNode(R),K.css(o,l),s.appendChild(o),K.css(s,l),a.replaceChild(s,n),n=ae(d)),c.id=i,c.dest=d,c.conf=be(r),c.meta=t.meta.toString(),c.html=fe(t.html),c.geom=fe(Nt(i,n)),c.src=Ue.renderFile,c.has_focus=Y.cstr(document.hasFocus()),l[1]="absolute",l[13]="top:0px;left:0px;visibility:hidden;display:none;",Ve||(K.attach(O,B,St),K.attach(O,"resize",kt),K.attach(O,"unload",Ct),K.attach(O,"focus",At),K.attach(O,"blur",xt),Ve=j),Z.replace({id:d,name:c,src:Ue.renderFile,_pos_id:i},l,s,It,Tt),Ie[i]=c)}},status:function(){return Le}},V,j))}(window),function(x){var S=!1,k=!0,C=null,T="sf_data",E="text/x-safeframe",a=100,_="sf_position",I=x&&x.document,P=x&&x.$sf,N=P&&P.lib,F=N&&N.lang,D=N&&N.dom,H=F&&F.cstr,M=F&&F.guid,O=D&&D.elt,V=D&&D.par,j=D&&D.tags,R=D&&D.attr,i=D&&D.purge,L=D&&D.ready,W={},c=0,B=S,U=S;function q(e,t){var i,r;try{(N=N||P&&P.lib)&&N.logger&&x==top?t?N.logger.error(e):N.logger.log(e):(i=I.getElementsByTagName("head")[0],(r=I.createElement("script")).type="text/plain",r.text="\x3c!-- SafeFrame "+(t?"error":"log")+": "+(e||"unknown")+" --\x3e",i.appendChild(i,r))}catch(e){}}function X(){var e,t;if(D)for(e in W)(t=O(e))&&(i(t),delete W[e])}function d(){var e,t,i,r,n,o,s,a,c,d,h,l,p,u,f,g,m=j&&j("script")||[],v=[],y=0,w=S,b=P&&P.host,A=b&&b.conf;if(!P||!F||!D)return q("SafeFrame base library not found",k),w;if(N=N||P&&P.lib,U&&B)return q("Automatic boot already invoked"),w;if(x==top){try{sf_conf=b.Config()}catch(e){sf_conf=C}if(A&&!sf_conf)try{sf_conf=b.Config(A)}catch(e){sf_conf=C}if(!sf_conf)return q("No configuration found"),w}for(;e=m[y++];)if(e.className==T||R(e,"type")==E){if(B=k,(i=R(e,"id"))||(i=M("sf_data_element"),R(e,"id",i)),W[i])continue;r=e.text||e.innerHTML||e.innerText;try{r=F.trim(r),r=(r=new Function("return "+r))()}catch(e){r=C,q("Error parsing tag configuration "+(e&&e.message||""),k);continue}if(r&&r.id&&(r.html||r.src))if(x!=top)n=(n=r.html||"")||(g=r.src,H(["<scr","ipt type='text/javascript', src='",g,"'></scr","ipt>"])),L()?q("cannot write html content into already loaded document"):I.write(n);else{if(!(t=V(e))){q("can't find parent element for script tag",k);continue}if((s=sf_conf&&sf_conf.positions[r.id])||((s=r.conf).id=r.id,s=s&&new b.PosConfig(s)),!s){q("no position conf found pre-defined or inline for position "+r.id,k);continue}if(s.dest||(s=new b.PosConfig(s,M(_))),r.meta){for(f in f="",l={},c=r.meta)h=typeof(d=c[f]),!p&&"object"==h&&d&&(p=d,u=f),"object"!=h&&"function"!=h&&(l[f]=d);c=new b.PosMeta(l,u||"",u&&p?p:C)}if(o=new b.Position(r,C,c,s),W[i]=i,!(a=O(s.dest)))if(L()){a=D.make("div"),R(a,"id",s.dest);try{t.insertBefore(a)}catch(e){q("failed auto-adding destination element "+e.message,k);continue}}else I.write("<div id='",s.dest,"'></div>");v.push(o)}else q("no content or id property found in the inline position object",k)}if(v.length)try{b.render(v)}catch(e){q("failed during rendering "+e.message)}else q("no positions to boot");D.wait(X)}setTimeout(function e(){var t,i,r,n,o,s=k;if(!B)if(i=P&&P.host,x==top){i&&!i.boot&&(i.boot=d);try{t=i&&i.Config()}catch(e){t=C}if(!t)try{t=i&&i.conf}catch(e){t=C}if(t&&("auto"in t&&t.auto===S&&(s=S),(!i.render||!i.Config)&&(r=t.hostFile)))return n=j("head")[0],(o=D.make("script")).id="sf_host_lib",o.type="text/javascript",o.className="sf_lib",o.src=r,x.ActiveXObject?o.onreadystatechange=function(){var e=o.readyState;"loaded"!=e&&"complete"!=e||(U=S,s&&d(),o.onreadystatechange=C,o=n=i=t=C)}:o.onload=function(){U=S,s&&d(),o.onload=C,o=n=i=t=C},U=k,void n.appendChild(o);s&&(t?(U=k,d(),U=S):c++<=a&&setTimeout(e,50))}else d()},50)}(window);