function Adhese(){return this.config={debug:!1},this.request={},this.requestExtra=[],this.ads=[],this.that=this,this.helper=new this.Helper,this.detection=new this.Detection,this}Adhese.prototype.Ad=function(e,t,i){return this.format=i&&i.format?i.format:t,this.options=e.helper.merge({write:!1},i),this.uid=t,this.safeframe=!(!i||!i.safeframe)&&i.safeframe,null!=this.options.position&&(this.uid=this.options.position+this.format),null!=this.options.containerId?this.containerId=this.options.containerId:this.containerId="",this.options.slotName=this.getSlotName(e),this.containingElementId=this.getContainingElementId(),i.parameters?this.parameters=i.parameters:this.parameters={},this},Adhese.prototype.Ad.prototype.getContainingElementId=function(){return this.options.slotName&&""!=this.containerId?this.options.slotName+"_"+this.containerId:this.options.slotName?this.options.slotName:""!=this.containerId?this.uid+"_"+this.containerId:this.uid},Adhese.prototype.Ad.prototype.getSlotName=function(e){return(this.options.position&&this.options.location?this.options.location+this.options.position:this.options.position?e.config.location+this.options.position:this.options.location?this.options.location:e.config.location)+"-"+this.format},Adhese.prototype.init=function(e){if(this.config.debug=e.debug,this.helper.log("Adhese: initializing..."),this.config.jquery="undefined"!=typeof jQuery,e.account){this.config.account=e.account;var t="http:";"file:"!=window.location.protocol&&(t=window.location.protocol),!e.prefixVersion||e.prefixVersion&&1==e.prefixVersion?(this.config.host=t+"//ads-"+e.account+".adhese.com/",this.config.poolHost=t+"//pool-"+e.account+".adhese.com/",this.config.clickHost=t+"//click-"+e.account+".adhese.com/"):e.prefixVersion&&2==e.prefixVersion&&(this.config.host=t+"//ads-"+e.account+".adhese.com/",this.config.poolHost=t+"//pool-"+e.account+".adhese.com/",this.config.clickHost=t+"//ads-"+e.account+".adhese.com/"),this.config.previewHost="https://"+e.account+"-preview.adhese.org/",this.config.hostname=void 0}else if(e.host&&e.poolHost){this.config.host=e.host,this.config.clickHost=e.host,this.config.poolHost=e.poolHost;var i=document.createElement("a");i.href=this.config.host,this.config.hostname=i.hostname}for(var r in e.previewHost&&(this.config.previewHost=e.previewHost),e.location&&"function"==typeof e.location?(this.config.location=e.location(),this.helper.log('options.location=="function"')):e.location&&"string"==typeof e.location?(this.config.location=e.location,this.helper.log('options.location=="string"')):this.config.location="testlocation",e.viewabilityTracking?this.config.viewabilityTracking=e.viewabilityTracking:this.config.viewabilityTracking=!1,void 0===e.safeframe||0==e.safeframe?this.config.safeframe=!1:(this.config.safeframe=e.safeframe,this.initSafeFrame(e.safeframeContainerID)),this.config.logSafeframeMessages=e.safeframeMsg||this.logSafeframeMessages,this.registerRequestParameter("rn",Math.round(1e4*Math.random())),"function"==typeof Fingerprint&&this.registerRequestParameter("fp",new Fingerprint({canvas:!0}).get()),this.registerRequestParameter("pr",window.devicePixelRatio||1),void 0!==e.referrer&&1!=e.referrer||this.registerRequestParameter("re",this.helper.base64.urlencode(document.referrer.substr(0,200))),void 0!==e.url&&1!=e.url||this.registerRequestParameter("ur",this.helper.base64.urlencode(window.location.href)),this.userAgent=this.helper.getUserAgent(),this.userAgent)this.registerRequestParameter("br",this.userAgent[r]);"function"==typeof this.Detection&&(this.registerRequestParameter("dt",this.detection.device()),this.registerRequestParameter("br",this.detection.device())),this.config.previewExclusive=!1,e.previewExclusive&&(this.config.previewExclusive=e.previewExclusive),this.checkPreview(),this.checkAdheseInfo(),this.checkVisible&&(addEventListener("load",this.checkVisible.bind(this),!1),addEventListener("scroll",this.checkVisible.bind(this),!1)),this.helper.log("Adhese: initialized with config:",JSON.stringify(this.config))},Adhese.prototype.initSafeFrame=function(e){this.safeframe||(this.safeframe=e?new this.SafeFrame(this.config.poolHost,e,this.config.viewabilityTracking,this.config.logSafeframeMessages):new this.SafeFrame(this.config.poolHost,this.config.viewabilityTracking,this.config.logSafeframeMessages))},Adhese.prototype.registerRequestParameter=function(e,t){var i=this.request[e];i||(i=new Array),i.push(t),this.request[e]=i},Adhese.prototype.removeRequestParameter=function(e,t){var i=this.request[e];if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}},Adhese.prototype.getBooleanConsent=function(){try{return this.request.tl[0]}catch(e){return"none"}},Adhese.prototype.addRequestString=function(e){this.requestExtra.push(e)},Adhese.prototype.tag=function(e,t){var i=this;this.helper.log(e,JSON.stringify(t)),t&&t.safeframe&&(t.safeframeContainerID?this.initSafeFrame(t.safeframeContainerID):this.initSafeFrame());var r=new this.Ad(this,e,t);if(this.previewActive){var n=this.previewFormats;for(var o in n)if(o==e+(t.position?t.position:"")){var s=n[e+(t.position?t.position:"")],a=new this.Ad(this,e,t);a.adType=e,a.ext="js";var c="";a.options.write||(c="json/"),a.swfSrc=i.config.previewHost+"/creatives/preview/"+c+"tag.do?id="+s.creative+"&slotId="+s.slot,a.width=s.width,a.height=s.height,r=a,"complete"===document.readyState?this.showPreviewSign():addEventListener("load",i.showPreviewSign.bind(i))}}return this.ads.push([e,r]),r.options.write&&(0==this.config.previewExclusive||1==this.config.previewExclusive&&r.swfSrc)&&this.write(r),r},Adhese.prototype.write=function(e){if(this.config.safeframe||e.safeframe){var t="";t=this.previewActive&&e.swfSrc?e.swfSrc:this.getRequestUri(e,{type:"json"}),this.helper.log("Adhese.write: request uri: "+t+", safeframe enabled");var i=this.safeframe.containerID;AdheseAjax.request({url:t,method:"get",json:!0}).done((function(e){adhese.safeframe.addPositions(e);for(var t=e.length-1;t>=0;t--)adhese.safeframe.render(e[t][i])}))}else{t="";t=this.previewActive&&e.swfSrc?e.swfSrc:this.getRequestUri(e,{type:"js"}),this.helper.log("Adhese.write: request uri: "+t),document.write('<script type="text/javascript" src="'+t+'"><\/script>')}},Adhese.prototype.track=function(e){this.helper.addTrackingPixel(e)},Adhese.prototype.trackByUrl=function(e){this.helper.addTrackingPixel(e)},Adhese.prototype.renderAndTrackAd=function(e){this.safeframe.render(e.containingElementId),AdheseAjax.request({url:e.tracker,method:"get"})},Adhese.prototype.getMultipleRequestUri=function(e,t){var i=this.config.host;switch(t||(t={type:"js"}),t.type){case"json":i+="json/";break;case"jsonp":t.callbackFunctionName||(t.callbackFunctionName="callback"),i+="jsonp/"+t.callbackFunctionName+"/";break;default:i+="ad/"}for(var r=e.length-1;r>=0;r--){var n=e[r];(!n.swfSrc||n.swfSrc&&-1==n.swfSrc.indexOf("preview"))&&(i+="sl"+this.getSlotName(n)+"/")}for(var o in this.request){for(var s=o,a=0;a<this.request[o].length;a++)s+=this.request[o][a]+(this.request[o].length-1>a?";":"");i+=s+"/"}for(r=0,o=this.requestExtra;r<o.length;r++)o[r]&&(i+=o[r]+"/");return i+="?t="+(new Date).getTime()},Adhese.prototype.getRequestPayload=function(e,t){let i=[];for(var r=e.length-1;r>=0;r--){var n=e[r];(!n.swfSrc||n.swfSrc&&-1==n.swfSrc.indexOf("preview"))&&i.push({slotname:this.getSlotName(n),parameters:n.parameters})}let o={};for(var s in this.request){for(var a=[],c=0;c<this.request[s].length;c++)a.push(this.request[s][c]);o[s]=a}return{slots:i,parameters:o,vastContentAsUrl:!t||!t.vastContentAsUrl||t.vastContentAsUrl}},Adhese.prototype.getSlotName=function(e){return e.options.position&&e.options.location?u=e.options.location+e.options.position:e.options.position?u=this.config.location+e.options.position:e.options.location?u=e.options.location:u=this.config.location,u+"-"+e.format},Adhese.prototype.getRequestUri=function(e,t){if(t.preview&&1==t.preview)return e.swfSrc;var i=[e];return this.getMultipleRequestUri(i,t)},Adhese.prototype.syncUser=function(e,t){"rubicon"==e?this.rubiconUserSync(t):"improvedigital"==e?this.improvedigitalUserSync(t):"pubmatic"==e?this.pubmaticUserSync(t):"spotx"==e?this.spotxUserSync(t):"appnexus"==e?this.appnexusUserSync(t):"smartadserver"==e?this.smartadserverUserSync(t):"multi"==e&&this.multiUserSync(t)},Adhese.prototype.getSfPreview=function(e){for(var t=this,i=e.length-1;i>=0;i--){var r=e[i];r.swfSrc&&r.swfSrc.indexOf("tag.do")>-1&&AdheseAjax.request({url:t.getRequestUri(r,{type:"json",preview:!0}),method:"get",json:!0}).done((function(e){t.safeframe.addPositions(e);for(var i=e.length-1;i>=0;i--)t.safeframe.render(e[i].adType)}))}},Adhese.prototype.getSfAds=function(e){var t=this;AdheseAjax.request({url:t.getMultipleRequestUri(e,{type:"json"}),method:"get",json:!0}).done((function(e){t.safeframe.addPositions(e);for(var i=e.length-1;i>=0;i--)t.safeframe.render(e[i].adType)})),t.getSfPreview(e)},Adhese.prototype.registerResponse=function(e,t){adhese.responses||(adhese.responses=new Object),adhese.responses[e]=t},Adhese.prototype.logSafeframeMessages=function(e,t,i){this.helper.log(e,t,i)},Adhese.prototype.enableViewabilityTracking=function(e,t){e.viewability={contentBox:document.querySelector("body"),trackers:{},trackerTimeout:0},observerOptions={root:null,rootMargin:"0px",threshold:[]},"object"==typeof t&&null!==t?(t.inViewPercentage?observerOptions.threshold.push(t.inViewPercentage):observerOptions.threshold.push(.5),t.rootMargin&&(observerOptions.rootMargin=t.rootMargin),e.viewability.trackerTimeout=t.duration&&""!==t.duration?t.duration:1,e.viewability.inViewPercentage=observerOptions.threshold[observerOptions.threshold.length-1]):(observerOptions.threshold.push(.5),e.viewability.trackerTimeout=1,e.viewability.inViewPercentage=observerOptions.threshold[observerOptions.threshold.length-1]),e.viewability.intersectionCallback=function(t){t.forEach((function(t){var i=t.target;if(t.isIntersecting)if(t.intersectionRatio>=e.viewability.inViewPercentage&&e.viewability.trackerTimeout>0)i.timerRunning=!0,i.timer=window.setTimeout((function(){if(e.viewability.adObserver.unobserve(i),e.viewability.trackers[i.id]){var t=document.createElement("img");t.src=e.viewability.trackers[i.id],t.style.height="1px",t.style.width="1px",t.style.margin="-1px",t.style.border="0",t.style.position="absolute",t.style.top="0",document.body.appendChild(t)}}),1e3*e.viewability.trackerTimeout);else if(t.intersectionRatio>=e.viewability.inViewPercentage){if(e.viewability.adObserver.unobserve(i),e.viewability.trackers[i.id]){var r=document.createElement("img");r.src=e.viewability.trackers[i.id],r.style.height="1px",r.style.width="1px",r.style.margin="-1px",r.style.border="0",r.style.position="absolute",r.style.top="0",document.body.appendChild(r)}}else i.timerRunning&&(window.clearTimeout(i.timer),i.timerRunning=!1)}))},e.viewability.adObserver=new IntersectionObserver(e.viewability.intersectionCallback,observerOptions)},Adhese.prototype.Helper=function(){this.oslist=[{string:navigator.userAgent,subString:"Windows Phone",identity:"WindowsPhone"},{string:navigator.userAgent,subString:"Windows NT 10.0",identity:"Windows10"},{string:navigator.userAgent,subString:"Windows NT 6.3",identity:"Windows8.1"},{string:navigator.userAgent,subString:"Windows NT 6.2",identity:"Windows8"},{string:navigator.userAgent,subString:"Windows NT 6.1",identity:"Windows7"},{string:navigator.userAgent,subString:"Windows NT 6.0",identity:"WindowsVista"},{string:navigator.userAgent,subString:"Windows NT 5.1",identity:"WindowsXP"},{string:navigator.userAgent,subString:"Windows 98",identity:"Windows98"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.platform,subString:"Mac",identity:"OSX"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],this.browserlist=[{string:navigator.userAgent,subString:"AppleTV",identity:"AppleTV"},{string:navigator.userAgent,subString:"CrKey",identity:"Chromecast"},{string:navigator.userAgent,subString:"FBAN",identity:"Facebook"},{string:navigator.userAgent,subString:"FBAV",identity:"Facebook"},{string:navigator.userAgent,subString:"Instagram",identity:"Instagram"},{string:navigator.userAgent,subString:"Trident/7",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{prop:window.opera,identity:"Opera"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"}]},Adhese.prototype.Helper.prototype.log=function(){this.logObjs=this.logObjs||{},this.logs=this.logs||[];for(var e="",t=(new Date).getTime(),i=0,r=arguments;i<r.length;i++)r[i]&&(e+=r[i]+" ");this.logObjs[t]=logObj={msg:e},this.logs.push([t,arguments]),window.location.search.match("debug")&&console.log(t,arguments)},Adhese.prototype.Helper.prototype.debug=function(){for(var e in this.logs){var t=this.logs[e];console.log(t[0],t[1])}},Adhese.prototype.Helper.prototype.debugTable=function(){"function"==typeof console.table&&console.table(this.logObjs)},Adhese.prototype.Helper.prototype.getMetaTagContent=function(e,t){},Adhese.prototype.Helper.prototype.getQueryStringParameter=function(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return t?decodeURIComponent(t[1].replace(/\+/g," ")):""},Adhese.prototype.Helper.prototype.addTrackingPixel=function(e){var t=document.createElement("img");t.src=e,t.style.height="1px",t.style.width="1px",t.style.margin="-1px",t.style.border="0",t.style.position="absolute",t.style.top="0",document.body.appendChild(t)},Adhese.prototype.Helper.prototype.getScreenProperties=function(){var e=new Object;return e.width=window.innerWidth?window.innerWidth:document.body.offsetWidth,e.height=window.innerHeight?window.innerHeight:document.body.offsetHeight,e},Adhese.prototype.Helper.prototype.addEvent=function(e,t,i,r){void 0===r&&(r=window),r.addEventListener?r.addEventListener(e,(function(){t(i)}),!1):r.attachEvent&&r.attachEvent("on"+e,(function(){t(i)}))},Adhese.prototype.Helper.prototype.removeEvent=function(e,t,i){window.removeEventListener?window.removeEventListener(e,t,!1):window.detachEvent&&window.detachEvent("on"+e,t)},Adhese.prototype.Helper.prototype.getAbsoluteOffset=function(e){var t={top:0,left:0};if(void 0!==e)for(t.left=0,t.top=0;e;e=e.offsetParent)t.left+=e.offsetLeft,t.top+=e.offsetTop;return t},Adhese.prototype.Helper.prototype.getUserAgent=function(){var e={};return e.browser=this.searchString(this.browserlist)||"unknownBrowser",e.browserVersion=e.browser+this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"unknownVersion",e.os=this.searchString(this.oslist)||"unknownOS",e},Adhese.prototype.Helper.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var i=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!=i.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},Adhese.prototype.Helper.prototype.searchVersion=function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},Adhese.prototype.Helper.prototype.merge=function(e,t){var i={};for(var r in e)i[r]=e[r];for(var r in t)i[r]=t[r];return i},Adhese.prototype.Helper.prototype.stringToHex=function(e,t){try{t=unescape(encodeURIComponent(e)).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join("")}catch(i){t=e,console.log("invalid text input: ",i,e)}return t},Adhese.prototype.Helper.prototype.hexToString=function(e,t){try{t=decodeURIComponent(e.replace(/(..)/g,"%$1"))}catch(i){t=e,console.log("invalid hex input: ",i,e)}return t},Adhese.prototype.Helper.prototype.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){if("function"==typeof btoab)return btoa(e);var t,i,r,n,o,s,a,c="",h=0;for(e=this._utf8_encode(e);h<e.length;)n=(t=e.charCodeAt(h++))>>2,o=(3&t)<<4|(i=e.charCodeAt(h++))>>4,s=(15&i)<<2|(r=e.charCodeAt(h++))>>6,a=63&r,isNaN(i)?s=a=64:isNaN(r)&&(a=64),c=c+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return c},urlencode:function(e){if("function"==typeof btoa)return btoa(e).replace(/\+/g,"-").replace(/\//g,"_");var t,i,r,n,o,s,a,c="",h=0;for(e=this._utf8_encode(e);h<e.length;)n=(t=e.charCodeAt(h++))>>2,o=(3&t)<<4|(i=e.charCodeAt(h++))>>4,s=(15&i)<<2|(r=e.charCodeAt(h++))>>6,a=63&r,isNaN(i)?s=a=64:isNaN(r)&&(a=64),c=c+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return c.replace(/\+/g,"-").replace(/\//g,"_")},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}},Adhese.prototype.Helper.prototype.createCookie=function(e,t,i){var r="";if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3-60*n.getTimezoneOffset()*1e3),r="; expires="+n.toUTCString()}document.cookie=e+"="+t+r+"; path=/; SameSite=None; Secure"},Adhese.prototype.Helper.prototype.readCookie=function(e){for(var t=e+"=",i=document.cookie.split(";"),r=0;r<i.length;r++){for(var n=i[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null},Adhese.prototype.Helper.prototype.eraseCookie=function(e){this.createCookie(e,"",-1)},Adhese.prototype.Helper.prototype.eatsCookie=function(){return this.createCookie("adheseTestCookie","",1),null!=this.readCookie("adheseTestCookie")&&(this.eraseCookie("adheseTestCookie"),!0)},Adhese.prototype.Helper.prototype.getMetaContent=function(e){for(var t=document.getElementsByTagName("META"),i=[],r=t.length-1;r>=0;r--){var n=t[r];n&&(n.name===e||n.getAttribute("property")===e)&&n.content&&i.push(n.content)}return i},Adhese.prototype.Helper.prototype.adhElementInViewport=function(e){return this.adhElementInViewportWithPercentage(e,1)},Adhese.prototype.Helper.prototype.adhElementInViewportWithPercentage=function(e,t,i,r){if("string"==typeof e&&(e=document.getElementById(e)),e){var n=e.getBoundingClientRect(),o=n.top+i*r,s=n.left+t*r;return n.top>=0&&n.left>=0&&o<=(window.innerHeight||document.documentElement.clientHeight)&&s<=(window.innerWidth||document.documentElement.clientWidth)}return!1},Adhese.prototype.checkPreview=function(){if(this.previewFormats={},!this.config.previewHost)return!1;if(-1!=window.location.search.indexOf("adhesePreview")){this.helper.log("checking for preview");var e=window.location.search.substring(1),t=e.match(/adhesePreviewCreativeId/g).length,r=e.split("&"),n="",o="",s="",a="",c=0,h=0,d=[];-1!=e.indexOf("adhesePreviewExclusive=true")&&(this.config.previewExclusive=!0),-1!=e.indexOf("adhesePreviewExclusive=false")&&(this.config.previewExclusive=!1);for(var l=0;l<r.length;l++)if("adhesePreviewCreativeId"==r[l].split("=")[0]&&(n=unescape(r[l].split("=")[1])),"adhesePreviewSlotId"==r[l].split("=")[0]&&(o=r[l].split("=")[1]),"adhesePreviewCreativeTemplate"==r[l].split("=")[0]&&(s=r[l].split("=")[1],d.push(s)),"adhesePreviewTemplateFile"==r[l].split("=")[0]&&(a=r[l].split("=")[1]),"adhesePreviewWidth"==r[l].split("=")[0]&&(c=r[l].split("=")[1]),"adhesePreviewHeight"==r[l].split("=")[0]&&(h=r[l].split("=")[1]),"adhesePreviewCreativeKey"==r[l].split("=")[0]&&t>1){if(""!=o&&""!=d[0])for(i in d){s=d[i];this.previewFormats[s]={slot:o,creative:n,templateFile:a,width:c,height:h}}d=[]}if(1==t)for(var p=0;p<d.length;p++)this.previewFormats[d[p]]={slot:o,creative:n,templateFile:a,width:c,height:h};n=[];for(k in this.previewFormats)n.push(k+","+this.previewFormats[k].creative+","+this.previewFormats[k].slot+","+this.previewFormats[k].template+","+this.previewFormats[k].width+","+this.previewFormats[k].height);this.helper.createCookie("adhese_preview",n.join("|"),0),this.previewActive=!0}else if(this.helper.readCookie("adhese_preview")){var u=this.helper.readCookie("adhese_preview").split("|");for(l=0;l<u.length;l++){n=u[l].split(",");this.previewFormats[n[0]]={creative:n[1],slot:n[2],template:n[3],width:n[4],height:n[5]}}this.previewActive=!0}else this.checkPreviewList()},Adhese.prototype.checkPreviewList=function(){this.helper.log("checking for preview in json format",this.helper.getQueryStringParameter("adhese_preview_list"));var e=[],t=this.helper.getQueryStringParameter("adhese_preview_list"),i=this.helper.readCookie("adhese_preview_list");""!=t&&null!=t?e=JSON.parse(t):""!=i&&null!=i&&(e=JSON.parse(i)),this.previewFormats={},e.forEach((e=>{this.previewFormats[e.format+(e.position?e.position:"")]={slot:e.slotId?e.slotId:"",creative:e.cId,templateFile:e.format,width:0,height:0,position:e.position?e.position:""}})),this.previewActive=e.length>0,this.previewActive&&this.helper.createCookie("adhese_preview_list",JSON.stringify(e),0)},Adhese.prototype.showPreviewSign=function(){if(!document.getElementById("adhPreviewMessage")){var e=this,t=document.createElement("DIV");t.innerHTML='<div id="adhPreviewMessage" style="opacity: 0.4; cursor:pointer;font-family:Helvetica,Verdana; font-size:12px; text-align:center; background-color: #000000; color: #FFFFFF; position:fixed; top:10px;left:10px;padding:10px;z-index:9999;width: 100px;">ADHESE PREVIEW MODE<br/>clock to close</div>',document.body.appendChild(t),e.helper.addEvent("click",e.closePreviewSign.bind(e),t,t)}},Adhese.prototype.closePreviewSign=function(){this.helper.eraseCookie("adhese_preview"),this.helper.eraseCookie("adhese_preview_list"),-1!=location.search.indexOf("adhesePreviewCreativeId")||-1!=location.search.indexOf("adhese_preview_list")?location.href=location.href.split("?")[0]:location.reload()},Adhese.prototype.checkAdheseInfo=function(){if(-1==window.location.search.indexOf("adheseInfo=true"))return!1;addEventListener("load",this.showInfoSign.bind(this))},Adhese.prototype.showInfoSign=function(){var e=this,t=document.createElement("DIV"),i='<div id="adhInfoMessage" style="cursor:pointer;font-family:Helvetica,Verdana; font-size:12px; text-align:center; background-color: lightgrey; color: black; position:fixed; top:10px;right:10px;padding:10px;z-index:9999;width:auto; max-width:300px; opacity:0.9; border:2px #9e9e9e solid">';for(x in i+="<b>Adhese Request Info</b></br>- Click to disable -</br>",i+="</br><b>Location code:</b></br>",i+=this.config.location+"</br>",i+="</br><b>Format code(s):</b></br>",adhese.ads)i+=adhese.ads[x][0]+"</br>";for(x in i+="</br><b>Targeting:</b></br>",adhese.request)"ur"!=x&&"rn"!=x&&"re"!=x&&"pr"!=x&&"fp"!=x&&(i+="<b>"+x+": </b>"+adhese.request[x]+"</br>");i+="</div>",t.innerHTML=i,document.body.appendChild(t),e.helper.addEvent("click",e.closeInfoSign.bind(e),t,t)},Adhese.prototype.closeInfoSign=function(){document.getElementById("adhInfoMessage").style.display="none"};var AdheseAjax={request:function(e){"string"==typeof e&&(e={url:e}),e.url=e.url||"",e.method=e.method||"get",e.data=e.data||{},void 0===e.encodeData&&(e.encodeData=!0);var t=function(e,t){var i,r=[];for(var n in e)r.push(n+"="+encodeURIComponent(e[n]));return""!=(i=r.join("&"))?t?t.indexOf("?")<0?"?"+i:"&"+i:i:""};return{host:{},process:function(e){var i=this;if(this.xhr=null,document.all&&!window.atob)try{this.xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.xhr=!1}}else try{this.xhr=new XMLHttpRequest}catch(e){this.xhr=!1}return this.xhr&&("withCredentials"in this.xhr&&(this.xhr.withCredentials=!0),this.xhr.onreadystatechange=function(){if(4==i.xhr.readyState&&200==i.xhr.status){var t=i.xhr.responseText;if(!0===e.json&&"undefined"!=typeof JSON)if(t)try{t=JSON.parse(t),i.doneCallback&&i.doneCallback.apply(i.host,[t,i.xhr])}catch(e){console.error("Ad response parsing error: \n",e),i.errorCallback&&i.errorCallback.apply(i.host,["Adhese Ajax: "+e])}else i.errorCallback&&i.errorCallback.apply(i.host,["Adhese Ajax: Response is empty string"])}else 4==i.xhr.readyState&&i.failCallback&&i.failCallback.apply(i.host,[i.xhr]);i.alwaysCallback&&i.alwaysCallback.apply(i.host,[i.xhr])}),"get"==e.method?this.xhr.open("GET",e.url+t(e.data,e.url),!0):(this.xhr.open(e.method,e.url,!0),this.setHeaders({"X-Requested-With":"XMLHttpRequest","Content-type":"application/x-www-form-urlencoded"})),e.headers&&"object"==typeof e.headers&&this.setHeaders(e.headers),setTimeout((function(){var r;"get"==e.method?i.xhr.send():(r=e.encodeData?t(e.data):e.data,i.xhr.send(r))}),20),this},done:function(e){return this.doneCallback=e,this},fail:function(e){return this.failCallback=e,this},always:function(e){return this.alwaysCallback=e,this},error:function(e){return this.errorCallback=e,this},setHeaders:function(e){for(var t in e)this.xhr&&this.xhr.setRequestHeader(t,e[t])}}.process(e)}};function AdheseVastWrapper(e){this.debug=null!=e&&e}function AdheseVastAd(e,t,i,r,n,o,s){this.id=e,this.mediafile=t,this.duration=i,this.impression=r,this.durationInSeconds=n,this.trackers=o,this.click=s}function AdheseVastMediaFile(e,t){this.src=e,this.type=t}function AdheseVastEventListener(e,t){this.event=e,this.listener=t}function AdheseVastHelper(){}if(Adhese.prototype.Detection=function(){return this},Adhese.prototype.Detection.prototype.device=function(e){return(e=e||window.navigator.userAgent).match(/webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini|Mobile Safari|SymbianOS/i)&&!e.match(/Android/i)||e.match(/Mobile/i)&&e.match(/Android/i)?this.deviceType="phone":e.match(/iPad|Android|Tablet|Silk/i)?this.deviceType="tablet":this.deviceType="desktop",this.deviceType},function(e,t,i){"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Fingerprint=i()}(0,this,(function(){"use strict";var e=function(e){var t,i;t=Array.prototype.forEach,i=Array.prototype.map,this.each=function(e,i,r){if(null!==e)if(t&&e.forEach===t)e.forEach(i,r);else if(e.length===+e.length){for(var n=0,o=e.length;n<o;n++)if(i.call(r,e[n],n,e)==={})return}else for(var s in e)if(e.hasOwnProperty(s)&&i.call(r,e[s],s,e)==={})return},this.map=function(e,t,r){var n=[];return null==e?n:i&&e.map===i?e.map(t,r):(this.each(e,(function(e,i,o){n[n.length]=t.call(r,e,i,o)})),n)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)};return e.prototype={get:function(){var e=[];(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution)&&(void 0!==this.getScreenResolution()&&e.push(this.getScreenResolution().join("x")));return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!window.indexedDB),document.body?e.push(typeof document.body.addBehavior):e.push("undefined"),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var i,r,n,o,s,a,c,h;for(i=3&e.length,r=e.length-i,n=t,s=3432918353,a=461845907,h=0;h<r;)c=255&e.charCodeAt(h)|(255&e.charCodeAt(++h))<<8|(255&e.charCodeAt(++h))<<16|(255&e.charCodeAt(++h))<<24,++h,n=27492+(65535&(o=5*(65535&(n=(n^=c=(65535&(c=(c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(c=0,i){case 3:c^=(255&e.charCodeAt(h+2))<<16;case 2:c^=(255&e.charCodeAt(h+1))<<8;case 1:n^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(h)))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295}return n^=e.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,(function(e){var t=this.map(e,(function(e){return[e.type,e.suffixes].join("~")})).join(",");return[e.name,e.description,t].join("::")}),this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],(function(e){try{return new ActiveXObject(e),e}catch(e){return null}})).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),i="http://valve.github.io";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(i,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(i,4,17),e.toDataURL()}},e})),Adhese.prototype.Events=function(){},Adhese.prototype.Events.prototype.add=function(e,t,i){i||(i=window),window.addEventListener?i.addEventListener(e,t,!1):window.attachEvent&&i.attachEvent("on"+e,t)},Adhese.prototype.Events.prototype.remove=function(e,t,i){i||(i=window),window.removeEventListener?i.removeEventListener(e,t,!1):window.attachEvent&&i.detachEvent("on"+e,t)},Adhese.prototype.appnexusUserSync=function(){this.genericUserSync({url:"https://ib.adnxs.com/getuid?https%3A%2F%2Fuser-sync.adhese.com%2Fhandlers%2Fappnexus%2Ftl%3D"+this.getBooleanConsent()+"%26user_sync%3Fu%3D%24UID",syncName:"appnexus",iframe:!0,onload:option.onload})},Adhese.prototype.bidswitchUserSync=function(e){e&&e.bidswitch_account_name&&this.genericUserSync({url:"http://x.bidswitch.net/sync?ssp="+e.bidswitch_account_name,syncName:"bidswitch",iframe:!1,onload:e.onload})},Adhese.prototype.criteoUserSync=function(e){if(e&&e.nid){var t=e.nid,i="cto_rtt";crtg_content=function(e){var t,i,r,n=document.cookie.split(";");for(t=0;t<n.length;t++)if(i=n[t].substr(0,n[t].indexOf("=")),r=n[t].substr(n[t].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==e)return unescape(r);return""}(i);var r=Math.floor(99999999999*Math.random()),n="https://rtax.criteo.com/delivery/rta/rta.js?netId="+escape(t);n+="&cookieName="+escape(i),n+="&rnd="+r,n+="&varName=crtg_content";var o=document.createElement("script");return o.type="text/javascript",o.src=n,o.async=!0,document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0].appendChild(o):document.getElementsByTagName("body").length>0&&document.getElementsByTagName("body")[0].appendChild(o),crtg_content}},Adhese.prototype.genericUserSync=function(e){if(e&&e.url&&e.syncName){var t=e.syncName+"_uid_last_sync";if(void 0===e.onload&&(e.onload=!0),-1==document.cookie.indexOf(t)||!e.syncRefreshPeriod){if(e.onload?e.iframe?this.helper.addEvent("load",this.appendSyncIframe,e):this.helper.addEvent("load",this.appendSyncPixel,e):e.iframe?this.appendSyncIframe(e):this.appendSyncPixel(e),e.syncRefreshPeriod){var i=new Date;i.setDate(i.getDate()+1),i.setHours(0),i.setMinutes(0),i.setSeconds(0);var r=i.getTime()-(new Date).getTime();this.helper.createCookie(t,r,r/e.syncRefreshPeriod)}this.config&&this.config.hostname&&((new Image).src="https://user-sync.adhese.com/handlers/"+e.syncName+"/user_sync_discovery?domain="+this.config.hostname+"&tl="+this.getBooleanConsent())}}},Adhese.prototype.appendSyncIframe=function(e){var t=document.createElement("IFRAME");t.setAttribute("id","sync_iframe_"+e.syncName),t.setAttribute("height","0"),t.setAttribute("width","0"),t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.setAttribute("frameborder","0"),t.setAttribute("scrolling","no"),t.setAttribute("style","border: 0px; display: none;"),t.setAttribute("src",e.url),document.body.appendChild(t)},Adhese.prototype.appendSyncPixel=function(e){var t=document.createElement("IMG");t.setAttribute("id","sync_pixel_"+e.syncName),t.setAttribute("height","0"),t.setAttribute("width","0"),t.setAttribute("style","border: 0px; display: none;"),t.setAttribute("src",e.url),document.body.appendChild(t)},Adhese.prototype.improvedigitalUserSync=function(e){var t=1,i="user-sync.adhese.com";e&&e.partner_id&&""!=e.partner_id&&(t=e.partner_id),e&&e.domain&&""!=e.domain&&(i=e.domain),this.genericUserSync({url:"https://ad.360yield.com/server_match?partner_id="+t+"&r=https%3A%2F%2F"+i+"%2Fhandlers%2Fimprovedigital%2Fuser_sync%3Ftl%3D"+this.getBooleanConsent()+"%26u%3D%7BPUB_USER_ID%7D",syncName:"improvedigital",iframe:!0,onload:e.onload})},Adhese.prototype.multiUserSync=function(e){e&&e.account&&this.genericUserSync({url:"https://user-sync.adhese.com/iframe/user_sync.html?account="+e.account+"&tl="+this.getBooleanConsent(),syncName:"multi",iframe:!0,onload:e.onload})},Adhese.prototype.pubmaticUserSync=function(e){e&&e.pubmatic_publisher_id&&this.genericUserSync({url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?p="+e.pubmatic_publisher_id+"&predirect=https%3a%2f%2fuser-sync.adhese.com%2fhandlers%2fpubmatic%2fuser_sync%3ftl%3D"+this.getBooleanConsent()+"%26u%3d",syncName:"pubmatic",iframe:!0,onload:e.onload})},Adhese.prototype.rubiconUserSync=function(e){e&&e.rp_account&&""!=e.rp_account&&this.genericUserSync({url:"https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.html?p="+e.rp_account+"&endpoint=eu",syncName:"rubicon",iframe:!0,onload:e.onload})},Adhese.prototype.smartadserverUserSync=function(){this.genericUserSync({url:"https://ssbsync.smartadserver.com/api/sync?callerId=1",syncName:"smartadserver",iframe:!0,onload:option.onload})},Adhese.prototype.spotxUserSync=function(e){var t="user-sync.adhese.com";e&&e.domain&&""!=e.domain&&(t=e.domain),e&&e.spotx_advertiser_id&&this.genericUserSync({url:"https://sync.search.spotxchange.com/partner?adv_id="+e.spotx_advertiser_id+"&redir=https%3A%2F%2F"+t+"%2Fhandlers%2Fspotx%2Fuser_sync%3Ftl%3D"+this.getBooleanConsent()+"%26u%3D%24SPOTX_USER_ID",syncName:"spotx",iframe:!0,onload:e.onload})},AdheseVastWrapper.prototype.init=function(){this.eventListeners=new Array,this.trackedImpressions=new Array,this.schedule={},this.helper=new AdheseVastHelper},AdheseVastWrapper.prototype.requestAds=function(e,t,i){var r=e+"/jsonp/a.parseVastJson";for(var n in i)r+="/sl"+t+"-"+i[n];r+="/?t="+(new Date).getTime();var o=document.createElement("script");o.type="text/javascript",o.src=r,document.getElementsByTagName("head")[0].appendChild(o)},AdheseVastWrapper.prototype.parseInLine=function(e){for(var t=new Array,i=e.getElementsByTagName("MediaFile"),r=0;r<i.length;r++)t.push(new AdheseVastMediaFile(i[r].firstChild.nodeValue,i[r].attributes.getNamedItem("type").value));var n=new Array,o=e.getElementsByTagName("Impression");for(r=0;r<o.length;r++)n.push(o[r].firstChild.nodeValue);var s=new Object,a=e.getElementsByTagName("Tracking");for(r=0;r<a.length;r++)s[a[r].attributes.getNamedItem("event").nodeValue]||(s[a[r].attributes.getNamedItem("event").value]=new Array),s[a[r].attributes.getNamedItem("event").nodeValue].push(a[r].firstChild.nodeValue);var c=e.getElementsByTagName("ClickTracking");for(r=0;r<a.length;r++)s.click||(s.click=new Array),c[r]&&c[r].firstChild.nodeValue&&""!=c[r].firstChild.nodeValue&&s.click.push(c[r].firstChild.nodeValue);var h="",d=e.getElementsByTagName("ClickThrough");for(r=0;r<d.length;r++)h=d[r].firstChild.nodeValue;var l,p="";p=e.attributes.getNamedItem("id")&&isNaN(e.attributes.getNamedItem("id").nodeValue)?e.attributes.getNamedItem("id").nodeValue:e.attributes.getNamedItem("code")?e.attributes.getNamedItem("code").nodeValue:"preroll",this.debug&&console.log(p),l=null!==e.getElementsByTagName("Duration")[0].firstChild?e.getElementsByTagName("Duration")[0].firstChild.nodeValue:0,this.schedule[p]=new AdheseVastAd(p,t,l,n,this.helper.getDurationInSeconds(l),s,h),this.debug&&console.log(this.schedule)},AdheseVastWrapper.prototype.parseVastJson=function(e){var t=this.parseXML(e[0].tag).getElementsByTagName("Ad"),i=this;if(0!==t.length)for(var r=0;r<t.length;r++)if(t[r].getElementsByTagName("InLine").length>0)this.parseInLine(t[r]),this.fireAdsLoaded();else{var n="",o=t[r];n=o.attributes.getNamedItem("id")&&isNaN(o.attributes.getNamedItem("id").nodeValue)?o.attributes.getNamedItem("id").nodeValue:o.attributes.getNamedItem("code")?o.attributes.getNamedItem("code").nodeValue:"preroll";var s=o.getElementsByTagName("Impression");AdheseAjax.request({url:t[r].getElementsByTagName("VASTAdTagURI")[0].firstChild.nodeValue,method:"get",json:!1}).done((function(e){for(var t=i.parseXML(e).getElementsByTagName("Ad"),r=0;r<t.length;r++){t[r].setAttribute("code",n);for(var o=0;o<s.length;o++)t[r].getElementsByTagName("InLine")[0].insertBefore(s[o],t[r].getElementsByTagName("Impression")[0]);t[r].getElementsByTagName("InLine").length>0?i.parseInLine(t[r]):i.debug&&console.log("Too many redirects")}i.fireAdsLoaded()}))}else this.fireAdsLoaded()},AdheseVastWrapper.prototype.parseXML=function(e){if(this.debug&&console.log(typeof window.DOMParser),void 0!==window.DOMParser)return(new window.DOMParser).parseFromString(e,"text/xml");if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}},AdheseVastWrapper.prototype.addEventListener=function(e,t){this.eventListeners.push(new AdheseVastEventListener(e,t))},AdheseVastWrapper.prototype.fireAdsLoaded=function(){for(var e=0;e<this.eventListeners.length;e++)"ADS_LOADED"==this.eventListeners[e].getEvent()&&(this.debug&&console.log("ADS_LOADED sent to listener"),this.eventListeners[e].getListener().apply())},AdheseVastWrapper.prototype.getSchedule=function(){var e=new Array;for(var t in this.schedule)e.push(t);return e},AdheseVastWrapper.prototype.hasAd=function(e){return null!=this.schedule[e]},AdheseVastWrapper.prototype.getImpression=function(e){return this.schedule[e].getImpression()},AdheseVastWrapper.prototype.getClick=function(e){return this.schedule[e].getClick()},AdheseVastWrapper.prototype.getTrackers=function(e){return this.schedule[e].getTrackers()},AdheseVastWrapper.prototype.getMediafile=function(e,t){for(var i=this.schedule[e].getMediafile(),r=0;r<i.length;r++)if(i[r].getType()==t)return i[r].getSrc()},AdheseVastWrapper.prototype.getDuration=function(e){return this.schedule[e].getDuration()},AdheseVastWrapper.prototype.getDurationInSeconds=function(e){return this.schedule[e].getDurationInSeconds()},AdheseVastWrapper.prototype.track=function(e){if(e)for(var t=0;t<e.length;t++){if(!this.trackedImpressions[e[t]])this.trackedImpressions[e[t]]=1,document.createElement("img").src=e[t]+(-1==e[t].indexOf("?")?"?adhche=":"&adhche=")+(new Date).getTime()}},AdheseVastWrapper.prototype.timeupdate=function(e,t){if(this.debug&&console.log(e+" timeupdate @"+t+" sec."),0==t)this.debug&&console.log("Tracking impression for "+e),this.track(this.getImpression(e));else{var i=t/this.schedule[e].getDurationInSeconds();0==i.toFixed(2)?(this.debug&&console.log("Tracking start for "+e),this.track(this.getTrackers(e).start)):.25==i.toFixed(2)?(this.debug&&console.log("Tracking first quartile for "+e+" - "+this.getTrackers(e).firstQuartile),this.track(this.getTrackers(e).firstQuartile)):.5==i.toFixed(2)?(this.debug&&console.log("Tracking mid point for "+e),this.track(this.getTrackers(e).midpoint)):.75==i.toFixed(2)&&(this.debug&&console.log("Tracking third quartile for "+e),this.track(this.getTrackers(e).thirdQuartile))}},AdheseVastWrapper.prototype.clicked=function(e,t){this.debug&&console.log("tracker clicked for "+e+" @"+t),this.debug&&console.log("open new window with VideoClicks>ClickThrough"),this.helper.openNewWindow(this.getClick(e)),this.track(this.getTrackers(e).click)},AdheseVastWrapper.prototype.ended=function(e,t){this.debug&&console.log(e+" ended @"+t),this.debug&&console.log("tracker complete for "+e),this.track(this.getTrackers(e).complete)},AdheseVastAd.prototype.getId=function(){return this.id},AdheseVastAd.prototype.getMediafile=function(){return this.mediafile},AdheseVastAd.prototype.getDuration=function(){return this.duration},AdheseVastAd.prototype.getDurationInSeconds=function(){return this.durationInSeconds},AdheseVastAd.prototype.getImpression=function(){return this.impression},AdheseVastAd.prototype.getTrackers=function(){return this.trackers},AdheseVastAd.prototype.getClick=function(){return this.click},AdheseVastMediaFile.prototype.getSrc=function(){return this.src},AdheseVastMediaFile.prototype.getType=function(){return this.type},AdheseVastEventListener.prototype.getEvent=function(){return this.event},AdheseVastEventListener.prototype.getListener=function(){return this.listener},AdheseVastHelper.prototype.getDurationInSeconds=function(e){if(e){var t=e.split(":");return 3==t.length?parseInt(3600*t[0])+parseInt(60*t[1])+parseInt(t[2]):2==t.length?parseInt(60*t[0])+parseInt(t[1]):1==t.length?parseInt(t[0]):0}return 0},AdheseVastHelper.prototype.openNewWindow=function(e){window&&window.open(e,"_blank").focus()},Adhese.prototype.SafeFrame=function(e,t,i,r){return this.poolHost=e,this.containerID="adType",t&&(this.containerID=t),this.viewability=i,this.viewability&&Adhese.prototype.enableViewabilityTracking(this,this.viewability),this.adhesePositions=new Array,this.ads=[],this.logMessages=r||"",this.init()},Adhese.prototype.SafeFrame.prototype.init=function(){if(this.adhesePositionConfig=new Object,this.ads&&this.ads.length>0)for(index in this.ads){var e=this.ads[index];this.adhesePositionConfig[e[this.containerID]]={w:e.width,h:e.height,size:e.width+"x"+e.height,dest:e[this.containerID],tgt:"_blank"}}new $sf.host.Config({auto:!1,debug:!0,renderFile:this.poolHost+"sf/r.html",positions:this.adhesePositionConfig,onBeforePosMsg:this.logMessages});return this},Adhese.prototype.SafeFrame.prototype.addPositions=function(e){for(var t in e){var i=e[t];i.sfHtml=i.tag,"js"==i.ext&&(i.sfHtml=i.body);var r="_blank";i.sfHtml&&i.sfHtml.indexOf("TARGET='_self'")>0&&(r="_self");var n=new $sf.host.PosConfig({id:i[this.containerID],w:i.width,h:i.height,size:i.width+"x"+i.height,dest:i[this.containerID],tgt:r});this.adhesePositions.push(new $sf.host.Position({id:i[this.containerID],html:i.sfHtml,src:i.sfSrc,conf:n,viewableTracker:i.viewableImpressionCounter||""}))}},Adhese.prototype.SafeFrame.prototype.render=function(e){for(var t in this.adhesePositions)this.adhesePositions[t].id==e&&($sf.host.render(this.adhesePositions[t]),this.viewability&&this.adhesePositions[t].viewableTracker&&""!==this.adhesePositions[t].viewableTracker&&(this.viewability.trackers[e]=this.adhesePositions[t].viewableTracker,this.viewability.adObserver.observe(document.getElementById(e))))},window.$sf)try{$sf.ver="1-1-0",$sf.specVersion="1.1"}catch(e){}else window.$sf={ver:"1-1-0",specVersion:"1.1"};!function(e){var t,i,r,n,o,s="?",a="object",c="function",h="string",d="number",l="replace",p="length",u="document",f="prototype",g=e&&e.Number,m=e&&e.Math,v=e&&e[u],y=e&&e.navigator,w=y&&y.userAgent||"",b="toLowerCase",A="getAttribute",x="setAttribute",S="removeAttribute",k="getElementsByTagName",C="DOMContentLoaded",T=e&&e.String,_=T.fromCharCode(92),I=_+_,E=T.fromCharCode(34),P=_+E,N=T.fromCharCode(43),F="scr"+E+N+E+"ipt",O="about:blank",V="iframe",D="CollectGarbage",H="addEventListener",M="",R=L,j=!0,L=!1,W=null,B={preventDefault:0,stopImmediatePropagation:0,stopPropagation:0,preventBubble:0},U=g&&g.MAX_VALUE,q=-1*U,X=e&&e.escape,z=e&&e.unescape,$=!(!window.ActiveXObject&&"ActiveXObject"in window)&&e&&"ActiveXObject"in e,G=0,J=L,Q=0,Y=W,K=0,Z=W,ee=0,te=0,ie=0,re={},ne="",oe="",se=W,ae=W;!function(){var n;function o(e){var t=typeof e;return t==h?e:t!=d||e?t==a&&e&&e.join?e.join(""):!1===e?"false":!0===e?"true":e?T(e):"":"0"}function u(e,t,i,r){if(typeof e!=d)try{e=e?parseFloat(e):g.NaN}catch(t){e=g.NaN}return r==W&&(r=U),i==W&&(i=q),(isNaN(e)||e<i||e>r)&&t!=W?t:e}function v(e){try{e=e&&typeof e==c&&e.toString()&&new e.constructor?e:W}catch(t){e=W}return!!e}function y(e,t,i,r,n){var o,s,h;if(!t||!e)return e;for(s in t)h=typeof(o=t[s]),i&&!t.hasOwnProperty(s)||n&&s in e||r&&h==c||(h==a&&o&&(o=o.slice?y([],o):y({},o)),e[s]=o);return e}function w(){return(new Date).getTime()}function b(){return m.round(100*m.random())}function A(e){var t=o(e);return t&&t[l](/^\s\s*/,"")[l](/\s\s*$/,"")}function x(t,i,r,n){var s,c,h=r&&typeof r==a?r:e,d=0,l=W;if(t)if(t=o(t),i=i&&typeof i==a?i:W,t.indexOf("."))for(s=t.split(".");c=s[d++];)c=A(c),l=d==s[p]?h[c]&&i?h[c]=y(h[c],i,L,W,n):n&&c in h?h[c]:h[c]=h[c]||i||{}:n&&c in h?h[c]:h[c]=h[c]||{},h=h[c];else l=h[t]&&i?h[t]=y(h[t],i,L,W,n):h[t]=h[t]||i||{};return l}function S(){return I}function k(){return P}function C(){return"\\r"}function _(){return"\\n"}function N(e,t,i){return o(["<",t,F,i,">"])}function O(e,t,i,r,n){var c,h,d,l,u,f,g,m,v,w,b,A,x,S,k=this,C="indexOf",T="substring",_=L;if(!(k instanceof O))return new O(e,t,i,r,n);if(!arguments[p])return k;if(e&&typeof e==a)return y(new O("",t,i,r,n),e);if(e=o(e),t=o(t)||"&",i=o(i)||"=",!e)return k;if(t!=s&&i!=s&&e.charAt(0)==s&&(e=e[T](1)),c=e[C](s),h=e[C](i),-1!=c&&-1!=h&&c>h)l=X(e[T](h+1)),u=e.substr(0,h+1),e=u+l;else if(-1!=c)return new O(e=e[T](c+1),t,i,r);for(e.charAt(0)==t&&(e=e[T](1)),b=(g=e.split(t))[p],c=0;b--;)if(l=g[c++],w=L,_=L,l){if((x=(m=l.split(i))[p])>2){if(v=z(m[0]),m.shift(),n)if(u=v+i,h=e[C](u),x=u[p],f=e[T](h+x),S=(u=t+t)[p],-1!=(d=f[C](u))){for(f in A=new O(f=e.substr(h+x,d+S),t,i,r,n),f="",x=0,A)x++;x>0&&(c+=x-1),l=A}else l=z(m.join(i));else l=z(m.join(i));_=j}else 2==x&&(v=z(m[0]),l=z(m[1]),_=j);_&&(r&&v in k||(k[v]=l,w=j),n&&w&&v&&l&&typeof l!=a&&(l[C](t)>=0||l[C](i)>=0)&&(k[v]=new O(l,t,i,r,n)))}}(n=O[f]).toString=n.valueOf=function e(t,i,r,n){var s,h,d,l=[];for(s in t=t||"&",i=i||"=",this)h=typeof(d=this[s]),d&&h==c||(d&&h==a&&(d=e.apply(d,[t,i,r,n])),r&&(s=X(s)),n||(d=X(d)),l.push(s,i,d,t));return o(l)},r=x("$sf.lib.lang",{ParamHash:O,cstr:o,cnum:u,cbool:function(e){return e&&"0"!=e&&"false"!=e&&"no"!=e&&"undefined"!=e&&"null"!=e?j:L},noop:function(){},trim:A,callable:v,guid:function(e){return o([e||"","_",w(),"_",b(),"_",G++])},mix:y,time:w,rand:b,def:x,ns:function(t,i){var r,n,s,a=/\[(('|")?)((\s|.)*?)(('|")?)\]/gm,c=/\./gm,h=0,d="",p=j;if(r=i=i||e,t)if(t=o(t))if(n=(t=A(t)).match(/(\[(.{1,})\])|(\.\w+)/gm))for(d=t[l](/(\[.*)|(\..*)/g,""),n.unshift(d);s=n[h++];){if(!r[s=s[l](a,"$3")[l](c,"")]){p=L;break}r=r[s]}else r=r[s=t];else p=L;else p=L;return p&&r||L},jssafe_html:function(e){var t=o(e);return t&&(t=(t=(t=(t=(t=(t=(t=t.replace(/(<noscript[^>]*>)(\s*?|.*?)(<\/noscript>)/gim,"")).replace(/\\/g,S)).replace(/\"/g,k)).replace(/\n/g,_)).replace(/\r/g,C)).replace(/<(\/)*script([^>]*)>/gi,N)).replace(/\t/gi," "),t=o([E,t,E]),t=E+t+E),t},isArray:function(e){return null!=e&&("string"!=typeof e&&(null!=e.length&&e.constructor==Array))}}),x("$sf.env",{isIE:$}),t=o,u,i=v}(),function(){function e(e){var t=0;return parseFloat(e.replace(/\./g,(function(){return 1==t++?"":"."})))}function t(e,t,i){var r=e&&e.match(t);return i==W?r:r&&r[i]||W}function i(e,t){return e.test(t)}function n(r){var n,o={},s=new Date;if(!r&&ae)return ae;o.ie=o.opera=o.gecko=o.webkit=o.safari=o.chrome=o.air=o.ipod=o.ipad=o.iphone=o.android=o.webos=o.silk=o.nodejs=o.phantomjs=0,o.mobile=o.ios=o.os=W,o.accel=!1,o.caja=y&&y.cajaVersion,o.cks=L,(r=r||w||"")&&(i(/windows|win32/i,r)?o.os="windows":i(/macintosh|mac_powerpc/i,r)?o.os="macintosh":i(/android/i,r)?o.os="android":i(/symbos/i,r)?o.os="symbos":i(/linux/i,r)?o.os="linux":i(/rhino/i,r)&&(o.os="rhino"),i(/KHTML/,r)&&(o.webkit=1),i(/IEMobile|XBLWP7/,r)&&(o.mobile="windows"),i(/Fennec/,r)&&(o.mobile="gecko"),(n=t(r,/AppleWebKit\/([^\s]*)/,1))&&(o.webkit=e(n),o.safari=o.webkit,i(/PhantomJS/,r)&&(n=t(r,/PhantomJS\/([^\s]*)/,1))&&(o.phantomjs=e(n)),i(/ Mobile\//,r)||i(/iPad|iPod|iPhone/,r)?(o.mobile="Apple",n=(n=t(r,/OS ([^\s]*)/,1))&&e(n.replace("_",".")),o.ios=n,o.ipad=o.ipod=o.iphone=0,(n=t(r,/iPad|iPod|iPhone/,0))&&(o[n[b]()]=o.ios)):((n=t(r,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0))&&(o.mobile=n),i(/webOS/,r)&&(o.mobile="WebOS",(n=t(r,/webOS\/([^\s]*);/,1))&&(o.webos=e(n))),i(/ Android/,r)&&(o.mobile="Android",(n=t(r,/Android ([^\s]*);/,1))&&(o.android=e(n))),i(/Silk/,r)&&((n=t(r,/Silk\/([^\s]*)\)/,1))&&(o.silk=e(n)),o.android||(o.android=2.34,o.os="Android"),i(/Accelerated=true/,r)&&(o.accel=!0))),(n=r.match(/(Chrome|CrMo)\/([^\s]*)/))&&n[1]&&n[2]?(o.chrome=e(n[2]),o.safari=0,"CrMo"===n[1]&&(o.mobile="chrome")):(n=t(r,/AdobeAIR\/([^\s]*)/))&&(o.air=n[0])),o.webkit||((n=t(r,/Opera[\s\/]([^\s]*)/,1))?(o.opera=e(n),(n=t(r,/Opera Mini[^;]*/,0))&&(o.mobile=n)):(n=t(r,/MSIE\s([^;]*)/,1))?o.ie=e(n):(n=t(r,/Gecko\/([^\s]*)/))&&(o.gecko=1,(n=t(r,/rv:([^\s\)]*)/,1))&&(o.gecko=e(n)))));try{s.setTime(s.getTime()+1e3),v.cookie=cstr(["sf_ck_tst=test; expires=",s.toGMTString(),"; path=/"]),-1!=v.cookie.indexOf("sf_ck_tst")&&(o.cks=j)}catch(e){o.cks=L}try{typeof process==a&&process.versions&&process.versions.node&&(o.os=process.platform,o.nodejs=numberify(process.versions.node))}catch(e){o.nodejs=0}return o}(ae=n()).parse=n,r.def("$sf.env.ua",ae,W,j)}(),function(){function s(){te&&(clearTimeout(te),te=0)}function a(t){z(e,"load",a),z(e,C,a),Y=j}function c(){var e,t,i,r;if(s(),ee>=300&&(Z=W,Y=j),Y===W){try{i=(t=(e=v&&v.body)&&I("*",e))&&t[p],r=e&&e.lastChild}catch(e){K=0,Z=W}K&&i==K&&r==Z?(Z=W,Y=j):(K=i,Z=r,ee+=1,te=setTimeout(c,50))}else Z=W}function d(e){var t,i=P(e,"id");(t=i&&re[i])&&(z(e,"load",t),re[i]=W,delete re[i])}function l(e){return e&&typeof e==h&&w(e)||e}function g(t,i,r,o){try{se||(se=n.msghost)}catch(e){se=W}if(e==top)return t&&se&&se[t]&&se[t](i,r,o)}function m(e){var t=W;try{e&&(t=9==e.nodeType?e:e[u]||e.ownerDocument||W)}catch(e){t=W}return t}function y(e){var t,i=W,r="parentWindow",n="defaultView";try{e&&((i=e[r]||e[n]||W)||(i=(t=m(e))&&(t[r]||t[n])||W))}catch(e){i=W}return i}function w(e){var t,i=arguments,r=i[p];return(t=r>1?m(i[1]):v)&&t.getElementById(e)||W}function _(e){return e&&1==e.nodeType&&e.tagName[b]()||""}function I(e,t){var i=[];try{i=t&&t[k]?t[k](e)||i:v[k](e)||i}catch(e){i=[]}return i}function E(e){return e&&(e.parentNode||e.parentElement)}function P(e,i,r){try{arguments[p]>2?r===W?J?e[S](i,0):e[S](i):(r=t(r),"class"==i[b]()?e.className=r:J?e[x](i,r,0):e[x](i,r)):r=t(J?e[A](i,0):e[A](i))}catch(e){r=""}return r}function N(e,i){var r;try{r=e.style,arguments[p]>1?r.cssText=t(i):i=r.cssText}catch(e){i=""}return i}function F(e,t){return(arguments[p]>1&&m(t)||v).createElement(e)}function U(e,t){var i=L;try{e&&(i=e.appendChild(t))}catch(e){i=L}return i}function q(e){var t,i=L,r=_(e)==V;r&&(g("detach",e),d(e),$||P(e,"src",O));try{(t=E(e))&&(t.removeChild(e),i=j,$&&r&&o())}catch(e){}return e=t=W,i}function X(e,t,i){try{R?e[M]("on"+t,i):e[M](t,i,L)}catch(e){}e=i=W}function z(e,t,i){try{R?e.detachEvent("on"+t,i):e.removeEventListener(t,i,L)}catch(e){}e=i=W}function G(){var e;return s(),Y?(Z=W,j):((e=v.readyState)&&(Z=W,Y="loaded"==e||"complete"==e?j:L),Z=W,ee=K=0,c(),!!Y)}function ae(e){var t;if(G())try{r.callable(e)&&e()}catch(t){t=W}else setTimeout((function(){ae(e),e=W}),51)}function ce(t){var i="";if(t=t||e.event){try{t.returnValue=L}catch(e){}try{t.cancelBubble=j}catch(e){}try{t.stopped=j}catch(e){}for(i in B)if(B[i])try{t[i]()}catch(e){}}return L}function he(t){var i=W;try{i=(t=t||e.event)?t[ne]||t[oe]:W}catch(e){i=W}return i}function de(e,t,i,r,n){return le(e,t,i,r,n)}function le(e,r,n,o,s,a){var c,h,u,f,m,v=["<",V," "],y="";if(a)u=e;else{if(_(e=l(e))!=V)return W;u=e.cloneNode(L)}for(c in"src"in(r=r||{})?P(u,"src",W):r.src=P(e,"src")||O,"name"in r?P(u,"name",W):r.name=P(e,"name"),r.src||(r.src=O),y=s&&g("prep",r),a||(P(u,"width",W),P(u,"height",W)),n&&((h=N(u))&&";"!=h.charAt(h[p]-1)&&(h+=";"),N(u,[h,t(n)])),U(h=F("div"),u),m=h.innerHTML.replace(/<iframe(.*?)>(.*?)<\/iframe>/gim,"$1"),v.push('name="',r.name,'" ',m,"></",V,">"),delete r.name,h.innerHTML=t(v),f=h.firstChild,r)P(f,c,r[c]);return P(f,"id")||(P(f,"id","sf_iframe_"+ie),ie++),P(f,"FRAMEBORDER","no"),P(f,"SCROLLING","no"),P(f,"ALLOWTRANSPARENCY",j),P(f,"HIDEFOCUS",j),P(f,"TABINDEX",-1),P(f,"MARGINWIDTH",0),P(f,"MARGINHEIGHT",0),function(e,t){var r,n;i(t)&&(r=function(i){var o=he(i);if(d(o),o&&t)try{t.call(o,i)}catch(e){}o=e=t=r=n=W},n=P(e,"id"),d(e),n&&(re[n]=r),X(e,"load",r)),r=W}(f,o),y&&g("attach",f,y,s),y=s=u=o=e=h=null,f}function pe(e,t,i,r){return le(F(V),e,t,i,r,j)}!function(){var t,i,s="SCROLLING",c="UIEvent";$?(ne="srcElement",oe="target",P(t=F(V),s,"no"),J="no"!=P(t,s),o=D in e?function(){Q&&clearTimeout(Q),Q=setTimeout((function(){try{e[D]()}catch(e){}}),3e3)}:_lang.noop):(ne="target",oe="currentTarget"),e[H]&&!$?(M=H,"removeEventListener"):$&&(R=j,M="attachEvent","detachEvent"),t=W;try{t=v.createEvent(c)}catch(e){t=W}if(!t)try{t=v.createEvent("UIEvents")}catch(e){t=W}if(t)for(i in B)t[i]&&(B[i]=1);t=W,X(e,"load",a),X(e,C,a),n=r.def("$sf.lib.dom",{doc:m,view:y,elt:w,tagName:_,tags:I,par:E,make:F,css:N,attr:P,gc:o,append:U,purge:q,attach:X,detach:z,ready:G,wait:ae,evtCncl:ce,evtTgt:he},W,j)}(),iframes=r.def("$sf.lib.dom.iframes",{make:pe,clone:de,replace:function(e,i,r,n,o){var s,a,c,h,p,u;a=(p=_(a=(h=(e=e||{}).id)&&l(h)))?a:W,(c=p==V?a:W)?(g("detach",c),d(c),u=E(c),P(s=de(c,e,i,n,o),"onload",W),P(s,"onreadystatechange",W)):(r&&_(r=l(r))&&(u=r),!u&&a&&(u=E(a)),s=pe(e,i=t(i)||N(a)||"",n,o));try{u?c?u.replaceChild(s,c):a?u.replaceChild(s,a):U(u,s):U(v.body,s)}catch(e){}return s=a=e=c=u=n=W,w(h)},view:function(e){var t,i,r,n,o,s,a=0;try{if(!(t=e.contentWindow||W))for(n=(i=(r=m(e))&&y(r))&&i.frames||[];o=n[a++];){try{s=o.frameElement}catch(e){s=W}if(s&&s==e){t=o;break}}}catch(e){t=W}return t}},W,j),logger=r.def("$sf.lib.logger",{log:function(t){e.console&&console.log&&console.log(t)},error:function(t){e.console&&console.error?console.error(t):e.console&&console.log&&console.log(t)}},W,j),info=r.def("$sf.info",{errs:[],list:[]},W,j),T[f].trim||(T[f].trim=r.trim)}()}(window),function(e){var t=null,i=!0,r=!1,n="sf_pos",o="sf_pos_rel_el",s="onBeforePosMsg",a="onPosMsg",c={"exp-ovr":1,"exp-push":0,bg:0,pin:0,"read-cookie":0,"write-cookie":0},h="exp-ovr",d="collapse",l="error",p="geom-update",u="focus-change",f="object",g="string",m="style",v="length",y="width",w="height",b="PX",A="scroll",x="documentElement",S="document",k="compareDocumentPosition",C="elementFromPoint",T="auto",_="hidden",I="overflow",E="toFixed",P="attach",N="detach",F="message",O="postMessage",V="guid",D="application/x-shockwave-flash",H=e&&e.$sf,M=H&&H.ver,R=H&&H.env,j=R&&R.ua,L=H&&H.lib,W=L&&L.lang,B=L&&L.dom,U=B&&B.iframes,q=W&&W.cbool,X=W&&W.cnum,z=W&&W.cstr,$=W&&W.callable,G=W&&W.noop,J=W&&W.guid,Q=W&&W.mix,Y=B&&B.elt,K=B&&B.par,Z=(B&&B.tags,B&&B.attr),ee=B&&B.doc,te=B&&B.tagName,ie=B&&B.view,re=U&&U.view,ne=(B&&B.purge,B&&B.ready,e&&e.escape),oe=e&&e.Math,se=oe&&oe.max,ae=oe&&oe.min,ce=oe&&oe.round,he=t,de=W&&W.ParamHash,le=e&&e[S],pe=R&&R.isIE,ue=j&&j.ie||0,fe=j&&j.webkit||0,ge=j&&j.gecko||0,me=j&&j.opera||0,ve=e&&e.location,ye=ve&&(ve.protocol+"//"+(ve.host||ve.hostname)||""),we={},be={},Ae={},xe={},Se={},ke=r,Ce=r,Te=r,_e=r,Ie=0,Ee=0,Pe=t,Ne=t,Fe=t,Oe=t,Ve=["ShockwaveFlash.ShockwaveFlash.11","ShockwaveFlash.ShockwaveFlash.8","ShockwaveFlash.ShockwaveFlash.7","ShockwaveFlash.ShockwaveFlash.6","ShockwaveFlash.ShockwaveFlash"];function De(e){var r,o,s,a,c,h=this;if(!arguments.length)return Oe?Q({},Oe):t;if(!(h instanceof De))return new De(e);if(!e)return Oe=t,t;if(c=!!Oe,h.auto="auto"in e?q(e.auto):i,h.cdn=z(e.cdn),h.debug=q(e.debug),h.root=z(e.root),h.renderFile=z(e.renderFile),h.msgFile=z(e.msgFile),h.to=X(e.to,6e4),h.ver=z(e.ver)||M,h.onBeforePosMsg=$(e.onBeforePosMsg)?e.onBeforePosMsg:G,h.onPosMsg=$(e.onPosMsg)?e.onPosMsg:G,h.onStartPosRender=$(e.onStartPosRender)?e.onStartPosRender:G,h.onEndPosRender=$(e.onEndPosRender)?e.onEndPosRender:G,h.onFailure=$(e.onFailure)?e.onFailure3:G,o=e.positions,h.positions=r={},o)for(s in o)(a=o[s])&&typeof a==f&&(r[s||a.id||J(n)]=new He(a));Oe=h,c=!!(c&&h.auto&&W&&W.ns("$sf.host.boot"));try{c&&H.host.boot()}catch(e){}return Q({},Oe)}function He(e,t,r){var o,s,a=this,h=e&&typeof e||"";return a instanceof He?(h==f?(a.id=z(e.id),a.dest=z(e.dest||t),a.bg=z(e.bg)||"transparent",a.tgt=z(e.tgt)||"_top",a.css=z(e.css),a.w=X(e.w,0),a.h=X(e.h,0),a.z=X(e.z,0),a.supports=Q({},e.supports||c,i,i,i),a.w&&a.h?a.size=a.w+"x"+a.h:(o=z(e.size))?(s=o.split(/x/gi),a.w=X(s[0],0),a.h=X(s[1],0),a.size=o):a.size=""):"string"==h?(a.id=z(e),a.dest=z(e.dest)):(a.dest="",a.bg="transparent",a.tgt="_top",a.css="",a.w=0,a.h=0,a.size="",a.z=0,a.supports={}),a.id=a.id||J(n),!Oe&&r&&De(r),Oe&&(Oe.positions[a.id]=a),Q({},a)):new He(e,t,r)}function Me(e){if(e){if(e.indexOf("${sf_ver}")>-1&&(e=e.replace(/\${sf_ver}/gi,$sf.ver)),e.indexOf("${ck_on}")>-1){var i=function(){var e=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie"),navigator&&(navigator.cookieEnabled=e));return e}()?"1":"0";e=e.replace(/\${ck_on}/gi,i)}if(e.indexOf("${flash_ver}")>-1){var r=function(){if(Fe!==t)return Fe;if(navigator.plugins&&navigator.plugins.length>0){var e=navigator.mimeTypes;e&&e[D]&&e[D].enabledPlugin&&e[D].enabledPlugin.description&&(Fe=e[D].enabledPlugin.version)}else if(H.env.isIE){var i,r,n;for(i=0;i<Ve.length;i++)try{n=(r=new ActiveXObject(Ve[i]).GetVariable("$version")).indexOf(" "),Fe=n>-1?r.substr(n+1).replace(/,/gi,"."):r.replace(/,/gi,".");break}catch(e){t,Fe=0;continue}}else Fe=0;return Fe}();e=e.replace(/\${flash_ver}/gi,r)}}return z(["<scr","ipt type='text/javascript', src='",e,"'></scr","ipt>"])}function Re(e){var t=e&&ee(e)||le,i=t.compatMode,r=t[x];return i&&!me&&"CSS1Compat"!=i&&(r=t.body),r}function je(e){return(e=z(e))&&-1==e.search(/\D+/g)||e&&-1!=e.search(/px/gi)?i:void 0}function Le(e){var t,i,r,n,o=[-1,-1,-1,-1],s=["clipTop","clipRight","clipBottom","clipLeft"],a=0;if(!e)return o;if(ue)for(;i=s[a];)je(t=e[i])&&(t=X(t,-1))>=0&&(o[a]=t),a++;else if((t=e.clip)&&-1!=t.search(/\d+/g))for(n=(o=(o=(t=t.replace(/\w+\(([^\)]*?)\)/g,"$1")).split(" "))[v]<=1?o.split(","):o)[v],a=0;n--;)je(r=o[a])?o[a]=X(r,-1):o[a]=-1,a++;return o}function We(e,t){var i,r=0,n=0;return(i=ze(e))&&(r=i.borderTopWidth,n=i.borderLeftWidth,r=je(r)?X(r,0):0,n=je(n)?X(n,0):0,ge&&/^t(?:able|d|h|r|head|foot)$/i.test(te(e))&&(r=n=0)),(t=t||{t:0,l:0}).t+=r,t.l+=n,t}function Be(e){var t,i,r,n,o={x:0,y:0,w:0,h:0},s={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},a=0,c=0;return i=(t=ee(e)||le)[x]||s,n=t.body||s,(r=t.defaultView)&&(a=X(r.pageXOffset,0),c=X(r.pageYOffset,0)),o.x=se(i.scrollLeft,n.scrollLeft,a),o.y=se(i.scrollTop,n.scrollTop,c),o.w=se(i.scrollWidth,n.scrollWidth,0),o.h=se(i.scrollHeight,n.scrollHeight,0),o}function Ue(e){var t,i,n,o={t:0,l:0,r:0,b:0,w:0,h:0,z:0},s=0,a=0,c=r,h=Re(e),d=Be(e);if(e&&1==e.nodeType)try{for(o.l=e.offsetLeft||0,o.t=e.offsetTop||0,t=e,c=ge||fe>519;(t=t.offsetParent)&&(o.t+=t.offsetTop||0,o.l+=t.offsetLeft||0,c&&We(t,o),t!=h););if("fixed"!=ze(t=e,"position")){for(t=e;(t=K(t))&&(1==t.nodeType&&(s=t.scrollTop||0,a=t.scrollLeft||0,ge&&"visible"!=ze(t,I)&&We(t,o),o.l-=a,o.t-=s),t!=h););o.t+=d.y,o.l+=d.x}else o.t+=d.y,o.l+=d.x;ue||e!=Re(e)?(n=e.offsetHeight,i=e.offsetWidth):(n=e.clientHeight,i=e.clientWidth),o.b=o.t+n,o.r=o.l+i,o.w=se(o.r-o.l,0),o.h=se(o.b-o.t,0),o.z=ze(e,"zIndex")}catch(e){o={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return o}function qe(e){var t=Re(e),i=0,r=0;return t&&(i=t.scrollWidth||0,r=t.scrollHeight||0),{t:0,l:0,b:r,r:i,w:i,h:r}}function Xe(e,t){var n=r,o=e&&e.nodeType||-1,s=t&&t.nodeType||-1;if(1==o&&-1!=s)if(e.contains)if(me||1==s)n=e.contains(t);else for(;t;){if(e===t){n=i;break}t=t.parentNode}else e[k]&&(n=e===t||!!(16&e[k](t)));return n}function ze(e,i){var r="",n=!(!arguments[v]||!i),o="getComputedStyle";if(n)if(ue)try{r=e.currentStyle[i]}catch(e){r=""}else try{r=ie(e)[o](e,t)[i]}catch(e){r=""}else if(ue)try{r=e.currentStyle}catch(e){r=t}else try{r=ie(e)[o](e,t)}catch(e){r=t}return r}function $e(n,o,s){var a,c,h,d,l,p,u,g,m,y,w,b,x,S,k,C,I,P,N,F,O=n&&K(n),V=Re(n),D=he(n),H=he(V),M=Be(V),R=qe(n),j={t:0,l:0,r:0,b:0,w:0,h:0},L={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},W=0,B=0,U=r,q=r,z=r;U=r;if(o=o&&typeof o==f?o:{},O)for(;(a=ze(O))&&("block"!=a.display&&"absolute"!=a.position&&"none"==a.float&&"none"==a.clear||(S=a.overflowX,k=a.overflowY,C=Le(a),O==V?(g=M.w,w=M.h):(g=O.scrollWidth,w=O.scrollHeight),m=O.offsetWidth,b=O.offsetHeight,y=O.clientWidth,x=O.clientHeight,(S==_||C[1]>0||C[3]>0)&&(N||(I=1,N=O)),(k==_||C[0]>0||C[2]>0)&&(N||(P=1,N=O)),S==A&&(N=O,W=b-x,U=i),k==A&&(N||(N=O),B=m-y,U=i),S==T&&(N||(N=O),g>y&&(W=b-x),U=i),k==T&&(N||(N=O),w>x&&(B=m-y),U=i),!N))&&(O==V&&(g>y&&(W=(h=e.innerHeight||b)-x),w>x&&(B=(c=e.innerWidth||m)-y),U=i),(O=K(O))&&1==O.nodeType););return D.w&&D.h&&(N&&N!=V?(a=ze(N),"body"==te(N)?(N=V,d=D.t,l=D.l):d=l=0,j=he(N),C[1]>0&&(j.w=C[1],j.r=j.l+j.w),C[3]>0&&(j.l=j.l+C[3],j.w=j.w-C[3]),C[2]>0&&(j.h=C[2],j.b=j.t+j.h),C[0]>0&&(j.t=j.t+C[0],j.h=j.h-C[0]),D.t>j.t&&j.t>0&&(d=D.t-j.t),D.l>j.l&&j.l>0&&(l=D.l-j.l),N.scrollTop,N.scrollLeft,w=N.scrollHeight,g=N.scrollWidth,L.t=se(d,0),L.l=se(l,0),a&&(I=a.overflowX==_||C[1]>0||C[3]>0,P=a.overflowY==_||C[0]>0||C[2]>0),D.t>=j.b?L.b=0:(!P&&D.t>=j.b&&(P=1),w>N.clientHeight?L.b=P?0:se(w-D.h-W-d,0):L.b=se(j.h-D.h-W-d,0)),D.l>=j.r?L.r=0:(!I&&D.l>=j.r&&(I=1),g>N.clientWidth?L.r=I?0:se(g-D.w-B-l,0):L.r=se(j.w-D.w-B-l,0))):(L.t=se(D.t,0),L.l=se(D.l,0),ue&&"BackCompat"==le.compatMode&&"no"==Z(V,A)?P=I=1:(a=ze(V))&&(I=a.overflowX==_,P=a.overflowY==_),M.h>V.clientHeight?P?L.b=0:(z=i,L.b=se(R.h-D.h-W-D.t,0)):L.b=se(H.h-D.h-W-D.t,0),M.w>V.clientWidth?I?L.r=0:(q=i,L.r=se(R.w-D.w-B-D.l,0)):L.r=se(H.r-D.w-B-D.l,0)),L.xs=W?1:0,L.ys=B?1:0,L.w=L.r+L.l,L.h=L.t+L.b,N&&N!=V?F=j:(F=H,N=V),l=se(D.l,F.l),p=ae(D.r,q?ae(R.r,F.r):F.r),c=se(p-l,0),d=se(D.t,F.t),u=ae(D.b,z?ae(R.b,F.b):F.b),h=se(u-d,0),L.xiv=X((c/D.w)[E](2)),L.yiv=X((h/D.h)[E](2)),L.iv=X((c*h/(D.w*D.h))[E](2))),o.refNode=N||V,o.isRoot=N==V,o.canScroll=U,o.refRect=N&&N!=V?j:H,o.expRect=L,o.rect=D,s&&function(){var e,i,r,a,c,h,d,l,p,u,f,g,m,y,w,b=0,A=0;if(L.iv>.5&&(ke=o,e=Ge(n,X(s,1,1)),ke=t,A=e[v],a=(i=D.w)*(r=D.h),A))for(;c=e[b++];)h=he(c),l=se(D.l,h.l),p=ae(D.r,h.r),d=se(D.t,h.t),g=(f=p-l)*(u=ae(D.b,h.b)-d),y=(1-f/i)[E](2),w=(1-u/r)[E](2),m=(1-g/a)[E](2),(y>0&&y<L.xiv||w>0&&w<L.yiv)&&(L.xiv=y,L.yiv=w,L.iv=m)}(),L}function Ge(e,r){var n,o,s,a,c,h,d,l,p,u=he(e),f=ee(e),g=Re(f),m=u.t,y=u.l,w=u.r-u.l,b=u.b-u.t,A=[],x=ce(w/10),S=ce(b/10),k=x,T=S,_={},I={},E=[],P=0;if(ke?I=ke:$e(e,I,i),h=I.refNode,(d=I.refRect)&&h&&h!=g?(l=d.r,p=d.b):(l=y+w,p=m+b),f&&g&&f[C]){for(;k<w;){for(T=S;T<b;)o=m+T,(n=y+k)<l&&o<p&&E.push([n,o]),T+=S;k+=x}for(r=X(r,E[v]);s=E[P++];){c=f[C](s[0],s[1]);try{c&&1==c.nodeType&&c!==g&&c!==e&&!Xe(e,c)&&((a=Z(c,"id"))||(a=W.guid("geom_inter"),Z(c,"id",a)),!_[a]&&A[v]<r&&(_[a]=1,A.push(c)))}catch(e){}}}for(a in a="",_)0==a.indexOf("geom_inter")&&(c=Y(a))&&Z(c,"id",t);return A}function Je(e,t,i,r){return Ne||(Ne=B.msghost_fb),e&&Ne&&Ne[e]&&Ne[e](t,i,r)}function Qe(t){!Ce&&t&&t.data==initID&&(Ce=i,B.evtCncl(t),B.detach(e,F,Qe))}function Ye(e){var t=e&&e.data,i=e&&e.source,n=t&&"string"==typeof t&&-1!=t.indexOf(V)&&de(t),o=n&&n.id,s=o&&Y(o),a=s&&re(s),c=o&&be[o],h=n&&n.guid,d=c&&c.guid,l=c&&c._xmsgcb,p=r;if(d&&h&&h==d&&i&&a&&a==i)try{p=l(n.msg)}catch(e){p=r}return p&&B.evtCncl(e),p}function Ke(e,n){var o,s,a,c=e&&be[e],h=r;if(c){if(c)if((o=de()).msg=n,o.guid=c.guid,Ze()){a=Y(e),s=re(a);try{s[O](z(o),c.srcHost||"*"),h=i}catch(e){h=r}}else h=Je("send",e,n)}else h=Je("send",e,n);return o=s=a=t,h}function Ze(){return Ce}function et(e){var i,r,n,o,s,a=t,c=function(){var e,t=ve.href.indexOf("#");return(t=(e=t>-1?ve.href.substr(0,t):ve.href).indexOf("?"))>-1&&(e=e.substr(0,t)),escape(e)}();return e&&(i=e.name,r=de(i),o=0!=(o=(n=z(e.src))&&n.substring(0,n.indexOf("/",9))).search(/http/gi)?"":o,(a=de(r)).id=e.id||"iframe_"+J(),a.src=n,a.srcHost=o,a.guid=a.guid||J(),a.host=ye,a.loc=c,a.proxyID="",Ze()?(a.html5=1,a.proxyPath=""):(s=Je("prep",a))&&(a=s),e.name=a),a}function tt(t,r,n){var o;"iframe"==te(t)&&(o=Z(t,"id"))&&r&&r instanceof de&&o==r.id&&(Ze()?(be[o]=r,r._xmsgcb=n,Te||(B.attach(e,F,Ye),Te=i)):Je(P,t,r,n))}function it(n){var o=Z(n,"id"),s=o&&be[o],a=i;if(s){for(o in s&&(s._xmsgcb=be[o]=t,s=t,delete be[o]),o="",be)if((s=be[o])&&s.guid){a=r;break}a&&Ze()&&Te&&(Te=r,B.detach(e,F,Ye)),n=s=t}else Je(N,n)}function rt(e){var i,n,o=[],s=arguments,a=s[v],c=0,h=r;if(Oe&&(i=Oe[e])){for(;a--;)(n=s[c++])!=e&&o.push(n);try{h=i.apply(t,o)}catch(e){h=r}}return h}function nt(e){var t=e&&Ae[e];t&&(clearTimeout(t),kt(e),rt(a,"render-timeout",e)),yt()||(Pe="")}function ot(){Ie&&(clearTimeout(Ie),Ie=0)}function st(){Ee&&(clearTimeout(Ee),Ee=0)}function at(e){st(),Ee=setTimeout((function(){!function(e){var t,i,r,n;for(t in we)(n=(i=we[t])&&i.dest)&&Y(n)&&i&&(r=de(),data=de(),r.pos=t,r.cmd=data.cmd=u,r.value=e,rt(a,t,u,e),wt(i,r));st()}(e)}),2)}function ct(e){ot(),Ie=e?setTimeout(lt,750):setTimeout(dt,750)}function ht(e){var t,r,n,o,s,c;for(t in we)e&&t in Se||(s=(o=(r=we[t])&&r.dest)&&Y(o))&&r&&(c=xt(t,s,i),(n=de()).pos=t,n.cmd=p,n.geom=ne(c),rt(a,t,p,c),wt(r,n));ot()}function dt(){ht()}function lt(){ht(i)}function pt(e){at(i)}function ut(t){at(e[S].hasFocus())}function ft(e){ct(1)}function gt(e){ct()}function mt(i){var n,o;ot();try{for(n in B.detach(e,A,ft),B.detach(e,"resize",gt),B.detach(e,"unload",mt),B.detach(e,"focus",pt),B.detach(e,"blur",ut),Se)(o=Se[n])&&(o.tID&&clearTimeout(o.tID),B.detach(Se[n],A,o.onscroll),o.onscroll=o.node=t),Se[n]=t,delete Se[n];_e=r}catch(e){}}function vt(e){var n,o,c=r;if((n=de(e,t,t,i,i))&&n.pos&&(o=we[n.pos]))switch(n.cmd){case"exp-push":St(n,i),c=i;break;case"exp-ovr":St(n),c=i;break;case"collapse":!function(e,r,n){var o,c=e&&e.pos,h=c&&we[c],l=h&&h.conf,p=l&&l.dest,u=p&&Y(p),f=u&&Y("sf_pos_rel_el_"+c),g=u&&u[m],v=f&&f[m];if(!(c&&h&&u&&f))return;if(!h.expanded)return;(o=Se[c])&&o.tID&&clearTimeout(o.tID);if(ot(),!n&&rt(s,c,d,0,0))return;g.left=g.top="0px",v.width=g.width=l.w+b,v.height=g.height=l.h+b,g.zIndex=h.dx=h.dy=0,At(p),n||(rt(a,c,d,0,0),e.cmd=r?"collapsed":"collapse",e.geom=ne(xt(c,u,i)),wt(h,e));u=g=f=v=h=e=t}(n),c=i;break;case"msg":rt(a,n.pos,"msg",n.msg),c=i;break;case l:!function(e){var t=e&&e.pos,i=t&&we[t],r=i&&i.conf,n=r&&r.dest,o=n&&Y(n),s=o&&Y("sf_pos_rel_el_"+t);o&&o[m],s&&s[m];H&&H.info&&H.info.errs&&H.info.errs.push(e);rt(a,t,l,e)}(n),c=i;break;case p:H.lib.logger.log("Geom update complete: "+n.pos),c=i;break;case"read-cookie":o.conf&&o.conf.supports&&o.conf.supports[n.cmd]&&"0"!=o.conf.supports[n.cmd]?(!function(e,r){var n,o,s=e&&e.pos,c=s&&we[s],h=c&&c.conf,d=h&&h.dest,l=d&&Y(d),p="read-cookie";if(!h.supports||!h.supports[p]||"0"==h.supports[p])return;if(!s||!c||!l)return;if(!(n=e.cookie))return;o=function(){var e,t,i,r={};for(e=document.cookie.split("; "),t=e.length-1;t>=0;t--)r[(i=e[t].split("="))[0]]=i[1];return r}(),rt(a,p,s,0,0),e.cmd=p,e.geom=ne(xt(s,l,i)),e.value=o[n],wt(c,e),l=c=e=t}(n),c=i):c=r;break;case"write-cookie":o.conf&&o.conf.supports&&o.conf.supports[n.cmd]&&"0"!=o.conf.supports[n.cmd]?(!function(e,r){var n,o,s=e&&e.pos,c=s&&we[s],h=c&&c.conf,d=h&&h.dest,l=d&&Y(d),p="write-cookie";if(!h.supports||!h.supports[p]||"0"==h.supports[p])return;if(!s||!c||!l)return;if(!(n=e.cookie))return;o=escape(e.value);var u=new Date;u.setDate(u.getDate()+1);var f=o+"; expires="+u.toUTCString()+"; SameSite=None; Secure";document.cookie=n+"="+f,rt(a,p,s,0,0),e.cmd=p,e.geom=ne(xt(s,l,i)),e.info=o,e.value="",wt(c,e),l=c=e=t}(n),c=i):c=r}return c}function yt(){var e,t=i;for(e in Ae){t=r;break}return t}function wt(e,i){Pe="sending-msg-down-"+i.cmd,setTimeout((function(){var r=e&&e.dest;r&&i&&Ke(r,i.toString()),Pe="",i=r=e=t}),1)}function bt(){var e=this,i=B.attr(e,"_pos_id");Ae[i]&&(clearTimeout(Ae[i]),delete Ae[i],xe[i]=i,B.attr(e,"_pos_id",t),B.attr(e,"name",t),e[m].visibility="inherit",e[m].display="block",rt("onEndPosRender",i)),yt()||(Pe="")}function At(e,t,i,r,n){if(pe){var o=Y(e),s="shm_"+e,a=Y(s);if(t){if(a)return void(a[m].visibility="visible");a=U.clone(o,{id:s,src:"",name:s},[y,":",i,b,";position:absolute;",w,":",r,b,";z-index:",n-1,";filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0)"]),B.append(K(o),a)}else!t&&a&&(a[m].visibility="hidden")}}function xt(e,r,n){var o,s,c,h,d=de(),l={};try{B.bounds(r,l,i),n||l.isRoot||!l.canScroll||((c=l.expRect).xs||c.ys)&&(o=Se[e],s=l.refNode,o&&o.node!=s&&(o.tID&&clearTimeout(o.tID),B.detach(undefined,A,o.onscroll),o.node=o.onscroll=t,Se[e]=t,delete Se[e]),Se[e]||((o={}).node=s,o.onscroll=function(t){!function(e,t,r){var n=Se[t];n&&(n.tID&&(clearTimeout(n.tID),delete n.tID),n.tID=setTimeout((function(){var e,r,o=we[t],s=o&&o.dest,c=s&&Y(s);c&&o&&(e=xt(t,c,i),(r=de()).pos=t,r.cmd=p,r.geom=ne(e),rt(a,t,p,e),wt(o,r)),delete n.tID}),750))}(0,e)},Se[e]=o,B.attach(s,A,o.onscroll)))}catch(e){d=t}try{d&&(d.win=de(B.winRect()),d.par=de(l.refRect),c=de(l.expRect),(h=de(l.rect)).iv=c.iv,h.xiv=c.xiv,h.yiv=c.yiv,delete c.iv,delete c.xiv,delete c.yiv,d.exp=c,d.self=h)}catch(e){d=t}return d}function St(e,n){var o,c,d,l,p,u,f,g,v,y,w,A,x,S,k,C,T,_,I,E,P=r,N=r,F=e&&e.pos;F&&(c=(o=we[F])&&o.conf,o&&c&&(x=o.dest,d=Y(x),l=Y("sf_pos_rel_el_"+F),d&&l&&(p=d[m],u=l[m],p&&((E=Se[F])&&E.tID&&clearTimeout(E.tID),ot(),_=e.exp_obj,f=c.w,g=c.h,_?(S=X(_.t,0,0),k=X(_.l,0,0),C=X(_.r,0,0),T=X(_.b,0,0),w=X(f+k+C,0,0),A=X(g+S+T,0,0),S?(y=-1*S,N=i):y=0,k?(v=-1*k,P=i):v=0):(w=(P=(v=o.dx=X(e.dx))<0)?f+-1*v:f+v,A=(N=(y=o.dy=X(e.dy))<0)?g+-1*y:g+y),w<=f&&A<=g||rt(s,F,h,v,y)||(p.width=w+b,p.height=A+b,P&&(p.left=v+b),N&&(p.top=y+b),(I=X(o.z,0))||(I=3e3),p.zIndex=I,At(x,i,w,A,I-1),n?(u.width=w+b,u.height=A+b):(u.width=f+b,u.height=g+b),o.expanded=i,e.dx=v,e.dy=y,e.w=w,e.h=A,e.cmd="expand",e.geom=ne(xt(F,d,i)),rt(a,F,h,v,y),wt(o,e),p=l=d=o=e=t)))))}function kt(){var e,n,s,a,c,h,d=0,l=i,p=arguments;if(!p[v]||"*"==p[d])for(e in p=[],we)p.push(e);for(;e=p[d++];)(n=we[e])&&(e in Ae&&(clearTimeout(Ae[e]),delete Ae[e]),e in xe&&delete xe[e],h=(a=(s=n.dest)&&Y(s))&&K(a),-1!=B.attr(h,"id").indexOf(o)&&(h=K(c=h)),B.purge(a),c&&B.purge(c),we[e]=t,delete we[e],a=B.make("div"),B.attr(a,"id",s),B.append(h,a));for(e in e="",we){l=r;break}l&&(Pe="",mt())}W&&e==top&&(he=ue?function(e){var t,i,r,n,o,s,a,c,h,d={t:0,l:0,r:0,b:0,w:0,h:0,z:0},l="BackCompat";if(e&&1==e.nodeType)try{if(r=ee(e)||le,!B.ready())return Ue(e);t=Be(e),i=e.getBoundingClientRect(),d.t=i.top,d.l=i.left,s=a=2,n=r.compatMode,c=(o=ze(r[x])).borderLeftWidth,h=o.borderTopWidth,6===ue&&n!=l&&(s=a=0),n==l&&(s=c=je(c)?X(c,0):0,a=h=je(h)?X(h,0):0,d.t-=s,d.l-=a),d.t+=t.y,d.l+=t.x,d.b=d.t+e.offsetHeight,d.r=d.l+e.offsetWidth,d.w=se(d.r-d.l,0),d.h=se(d.b-d.t,0),d.z=ze(e,"zIndex")}catch(e){d={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return d}:Ue,W.def("dom",{rect:he,currentStyle:ze,contains:Xe,docRect:qe,winRect:function(t){var i=t&&ie(t)||e,r=i.innerHeight||0,n=i.innerWidth||0,o=i.screenY||i.screenTop||0,s=r+o,a=i.screenX||i.screenLeft||0,c=n+a,h=Re(t);return r||n||!h||(r=h.clientHeight||0,c=a+(n=h.clientWidth||0),s=o+r),{t:o,l:a,b:s,r:c,w:n,h:r}},bounds:$e,overlaps:Ge},L,i),function(){if(W){W.def("msghost",{prep:et,attach:tt,detach:it,usingHTML5:Ze,send:Ke},B,i),B.attach(e,F,Qe),initID="xdm-html5-init-"+J(),ye=0==ye.indexOf("file")?ye="file":ye;try{e[O](initID,"file"==ye?"*":ye)}catch(t){B.detach(e,F,Qe)}}}(),W.def("$sf.host",{Config:De,PosConfig:He,PosMeta:function e(t,i,r){var n,o,s=this;if(!(s instanceof e))return new e(key,r,pos,t);if(n={},o={},!i||typeof i!=g)return s;t&&typeof t==f&&(n=Q(n,t)),r&&typeof r==f&&(o[i]=r),s.toString=function(){var e=new de;return e.shared=n,e.non_shared=o,e.toString()},s.value=function(e,t){var i="";return e&&typeof e==g?(t&&typeof t==g||(t="shared"),i="shared"==t?n[e]||"":e in o&&o[prop_key]||""):i}},Position:function e(t,i,r,o){var s,a=this,c=t&&typeof t;if(!(a instanceof e))return new e(t,i,r,o);if(null==Oe){var h="Publisher Config not initialized - abort";return logger.error(h),void info.errs.push(h)}c==f?Q(a,t):s=a.id=z(t)||J(n),i?(a.html=i,a.src=""):a.src?a.html=Me(a.src):(a.html=a.html||"",a.src=""),a.html||(a.html=""),a.meta=r||a.meta||{},a.conf=o||a.conf||{},s&&(Oe&&Oe.positions[s]?a.conf=Oe.positions[s]:o&&(o.id=s,a.conf=new He(o)))},nuke:kt,get:function(e){var t=we[e];return t?Q({},t):null},render:function n(){var o,s,a,c,h,d,l,p,u,f,g,x,S,k,C,T=0,_=arguments,I="relative",E="absolute",P="top:0px;left:0px;visibility:hidden;display:none;";if(!Oe)return r;if(!B.ready())return B.wait((function(){n.apply(t,_),_=t})),t;for(_[0]instanceof Array&&1==_[v]&&(_=_[0]);o=_[T++];)if((a=(s=o.id)?Oe.positions[s]:t)&&(c=(u=a.dest)&&Y(u))){if(x=a.w,S=a.h,!x){try{x=c.offsetWidth}catch(e){x=0}x&&(a.w=x)}if(!S){try{S=c.offsetHeight}catch(e){S=0}S&&(a.h=S)}x&&S&&(p=new de,d=Y(f="sf_pos_rel_el_"+s),l=K(c),d&&l==d&&(l=K(d)),At(u),(C=Ae[s])&&clearTimeout(C),(C=xe[s])&&delete xe[s],Ae[s]=setTimeout((function(){nt(s)}),Oe.to),Pe="rendering",rt("onStartPosRender",s,a,o),g=["position:","",";z-index:0;",y,":",x,b,";",w,":",S,b,";","visibility:inherit;"],d?((k=d[m]).width=x+b,k.height=S+b,(k=c&&c[m]).width=x+b,k.height=S+b):(g[1]=I,(d=B.make("div")).id=f,d.className="iab_sf",h=c.cloneNode(r),B.css(h,g),d.appendChild(h),B.css(d,g),l.replaceChild(d,c),c=Y(u)),p.id=s,p.dest=u,p.conf=de(a),p.meta=o.meta.toString(),p.html=ne(o.html),p.geom=ne(xt(s,c)),p.src=Oe.renderFile,p.has_focus=W.cstr(document.hasFocus()),g[1]=E,g[13]=P,_e||(B.attach(e,A,ft),B.attach(e,"resize",gt),B.attach(e,"unload",mt),B.attach(e,"focus",pt),B.attach(e,"blur",ut),_e=i),U.replace({id:u,name:p,src:Oe.renderFile,_pos_id:s},g,d,bt,vt),we[s]=p)}},status:function(){return Pe}},t,i))}(window),function(e){var t=!1,i=!0,r=null,n=e&&e.document,o=e&&e.$sf,s=o&&o.lib,a=s&&s.lang,c=s&&s.dom,h=a&&a.cstr,d=a&&a.guid,l=c&&c.elt,p=c&&c.par,u=c&&c.tags,f=c&&c.attr,g=c&&c.purge,m=c&&c.ready,v={},y=0,w=t,b=t;function A(t,i){var r,a;try{s||(s=o&&o.lib),s&&s.logger&&e==top?i?s.logger.error(t):s.logger.log(t):(r=n.getElementsByTagName("head")[0],(a=n.createElement("script")).type="text/plain",a.text="\x3c!-- SafeFrame "+(i?"error":"log")+": "+(t||"unknown")+" --\x3e",r.appendChild(r,a))}catch(e){}}function x(){var e,t;if(c)for(e in v)(t=l(e))&&(g(t),delete v[e])}function S(){var g,y,S,k,C,T,_,I,E,P,N,F,O,V,D,H,M,R=u&&u("script")||[],j=[],L=0,W=t,B=o&&o.host,U=B&&B.conf;if(!o||!a||!c)return A("SafeFrame base library not found",i),W;if(s||(s=o&&o.lib),b&&w)return A("Automatic boot already invoked"),W;if(e==top){try{sf_conf=B.Config()}catch(H){sf_conf=r}if(U&&!sf_conf)try{sf_conf=B.Config(U)}catch(e){sf_conf=r}if(!sf_conf)return A("No configuration found"),W}for(;g=R[L++];)if("sf_data"==g.className||"text/x-safeframe"==f(g,"type")){if(w=i,(S=f(g,"id"))||(S=d("sf_data_element"),f(g,"id",S)),v[S])continue;k=g.text||g.innerHTML||g.innerText;try{k=a.trim(k),k=(k=new Function("return "+k))()}catch(H){k=r,A("Error parsing tag configuration "+(H&&H.message||""),i);continue}if(k&&k.id&&(k.html||k.src))if(e!=top)C=(C=k.html||"")||(M=k.src,h(["<scr","ipt type='text/javascript', src='",M,"'></scr","ipt>"])),m()?A("cannot write html content into already loaded document"):n.write(C);else{if(!(y=p(g))){A("can't find parent element for script tag",i);continue}if((_=sf_conf&&sf_conf.positions[k.id])||((_=k.conf).id=k.id,_&&(_=new B.PosConfig(_))),!_){A("no position conf found pre-defined or inline for position "+k.id,i);continue}if(_.dest||(_=new B.PosConfig(_,d("sf_position"))),k.meta){for(D in D="",F={},E=k.meta)N=typeof(P=E[D]),!O&&"object"==N&&P&&(O=P,V=D),"object"!=N&&"function"!=N&&(F[D]=P);E=new B.PosMeta(F,V||"",V&&O?O:r)}if(T=new B.Position(k,r,E,_),v[S]=S,!(I=l(_.dest)))if(m()){I=c.make("div"),f(I,"id",_.dest);try{y.insertBefore(I)}catch(H){A("failed auto-adding destination element "+H.message,i);continue}}else n.write("<div id='",_.dest,"'></div>");j.push(T)}else A("no content or id property found in the inline position object",i)}if(j.length)try{B.render(j)}catch(e){A("failed during rendering "+e.message)}else A("no positions to boot");c.wait(x)}setTimeout((function n(){var s,a,h,d,l,p=i;if(!w)if(a=o&&o.host,e==top){a&&!a.boot&&(a.boot=S);try{s=a&&a.Config()}catch(e){s=r}if(!s)try{s=a&&a.conf}catch(e){s=r}if(s&&("auto"in s&&s.auto===t&&(p=t),(!a.render||!a.Config)&&(h=s.hostFile)))return d=u("head")[0],(l=c.make("script")).id="sf_host_lib",l.type="text/javascript",l.className="sf_lib",l.src=h,e.ActiveXObject?l.onreadystatechange=function(){var e=l.readyState;"loaded"!=e&&"complete"!=e||(b=t,p&&S(),l.onreadystatechange=r,l=d=a=s=r)}:l.onload=function(){b=t,p&&S(),l.onload=r,l=d=a=s=r},b=i,void d.appendChild(l);p&&(s?(b=i,S(),b=t):y++<=100&&setTimeout(n,50))}else S()}),50)}(window);